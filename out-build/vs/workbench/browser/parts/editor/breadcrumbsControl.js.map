{"version":3,"sources":["vs/workbench/browser/parts/editor/breadcrumbsControl.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;;;;;;IAwChG,MAAM,WAAY,SAAQ,uBAAG;QAI5B,YACU,KAAW,EACX,OAAa,EACb,OAAmC;YAE5C,KAAK,EAAE,CAAC;YAJC,UAAK,GAAL,KAAK,CAAM;YACX,YAAO,GAAP,OAAO,CAAM;YACb,YAAO,GAAP,OAAO,CAA4B;YAL5B,MAAC,GAAc,IAAI,eAAG,EAAc,CAAC;QAQtD,CAAC;QAEQ,OAAO;YACf,IAAI,CAAC,CAAC,CAAY,OAAO,EAAE,CAAC;QAC7B,CAAC;QAED,MAAM,CAAC,KAAU;YAChB,IAAI,CAAC,CAAC,KAAK,YAAY,WAAW,CAAC,EAAE;gBACpC,OAAO,KAAK,CAAC;aACb;YACD,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,KAAK,KAAK,CAAC,OAAO,CAAC,OAAO;gBACpD,IAAI,CAAC,OAAO,CAAC,aAAa,KAAK,KAAK,CAAC,OAAO,CAAC,aAAa;gBAC1D,IAAI,CAAC,OAAO,CAAC,eAAe,KAAK,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC;QACjE,CAAC;QAED,MAAM,CAAC,SAAsB;YAC5B,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;YAE1C,IAAI,OAAO,KAAK,OAAO,EAAE;gBACxB,MAAM,OAAO,GAAG,GAAG,CAAC,CAAC,CAAC,MAAM,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC;gBAC9C,SAAS,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;gBAC/B,OAAO;aACP;YAED,MAAM,UAAU,GAAG,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAClE,MAAM,QAAQ,GAAG,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,UAAU,KAAK,UAAU,CAAC,CAAC;YAC/F,IAAI,CAAC,QAAQ,EAAE;gBACd,SAAS,CAAC,SAAS,GAAG,iBAAiB,CAAC;gBACxC,OAAO;aACP;YAED,MAAM,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;YACpD,QAAQ,CAAC,aAAa,CAAsB;gBAC3C,OAAO;gBACP,QAAQ,EAAE,EAAE;gBACZ,KAAK,EAAE,CAAC;gBACR,oBAAoB,EAAE,CAAC;gBACvB,iBAAiB,EAAE,CAAC;gBACpB,WAAW,EAAE,KAAK;gBAClB,SAAS,EAAE,KAAK;gBAChB,OAAO,EAAE,IAAI;gBACb,UAAU,EAAE,SAAS;aACrB,EAAE,CAAC,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;YAE3B,IAAI,CAAC,CAAC,CAAY,GAAG,CAAC,IAAA,eAAG,EAAU,GAAG,EAAE,GAAG,QAAQ,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpF,CAAC;KAED;IAED,MAAM,QAAS,SAAQ,uBAAG;QAIzB,YACU,KAAW,EACX,OAAa,EACb,OAAmC,EAC3B,CAAa;YAE9B,KAAK,EAAE,CAAC;YALC,UAAK,GAAL,KAAK,CAAM;YACX,YAAO,GAAP,OAAO,CAAM;YACb,YAAO,GAAP,OAAO,CAA4B;YAC3B,MAAC,GAAD,CAAC,CAAY;YANd,MAAC,GAAc,IAAI,eAAG,EAAc,CAAC;QAStD,CAAC;QAEQ,OAAO;YACf,IAAI,CAAC,CAAC,CAAY,OAAO,EAAE,CAAC;QAC7B,CAAC;QAED,MAAM,CAAC,KAAU;YAChB,IAAI,CAAC,CAAC,KAAK,YAAY,QAAQ,CAAC,EAAE;gBACjC,OAAO,KAAK,CAAC;aACb;YACD,OAAO,CAAC,eAAG,CAAI,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC;gBAC1D,IAAI,CAAC,OAAO,CAAC,aAAa,KAAK,KAAK,CAAC,OAAO,CAAC,aAAa;gBAC1D,IAAI,CAAC,OAAO,CAAC,eAAe,KAAK,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;QAElE,CAAC;QAED,MAAM,CAAC,SAAsB;YAC5B,cAAc;YACd,MAAM,KAAK,GAAG,IAAI,CAAC,CAAC,CAAO,MAAM,CAAC,SAAS,CAAC,CAAC;YAC7C,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE;gBAC/B,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,gBAAQ,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa;gBAC9E,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI;gBAC3B,eAAe,EAAE,EAAE,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,MAAM,EAAE,KAAK,EAAE;aAC7E,CAAC,CAAC;YACH,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,gBAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;YACnE,IAAI,CAAC,CAAC,CAAY,GAAG,CAAC,KAAK,CAAC,CAAC;QAC9B,CAAC;KACD;IAUD,MAAM,aAAa,GAAG,IAAA,kBAAG,EAAU,sBAAsB,EAAE,cAAG,CAAK,YAAY,EAAE,IAAA,cAAQ,EAAC,CAAe,EAAE,IAA4C,CAAC,CAAC,CAAC;IAEnJ,IAAM,IAAI,GAAV,MAAM,IAAI;;iBAEA,WAAM,GAAG,EAAH,AAAK,CAAC;iBAEJ,MAAC,GAAiB;YACzC,OAAO,EAAE,CAAC;YACV,KAAK,EAAE,CAAC;SAFgB,AAGxB,CAAC;iBAEc,mBAAc,GAAG,EAAH,AAAK,CAAC;iBACpB,wBAAmB,GAAG,EAAH,AAAK,CAAC;iBACzB,iBAAY,GAAG,EAAH,AAAK,CAAC;iBAElB,2BAAsB,GAAG,IAAI,gBAAG,CAAW,qBAAqB,EAAE,KAAK,EAAE,IAAA,cAAQ,EAAC,CAAqB,EAAE,IAAyC,CAAC,CAA7H,AAA8H,CAAC;iBACrJ,0BAAqB,GAAG,IAAI,gBAAG,CAAW,oBAAoB,EAAE,KAAK,EAAE,IAAA,cAAQ,EAAC,CAAoB,EAAE,IAA2C,CAAC,CAA7H,AAA8H,CAAC;iBACpJ,yBAAoB,GAAG,IAAI,gBAAG,CAAW,mBAAmB,EAAE,KAAK,EAAE,IAAA,cAAQ,EAAC,CAAmB,EAAE,IAAgC,CAAC,CAAhH,AAAiH,CAAC;QAoBtJ,YACC,SAAsB,EACL,CAAoC,EACpC,CAA8B,EAC3B,CAAwC,EACvC,CAAyC,EACvC,CAA2C,EAC9C,CAAwC,EAC9C,CAAkC,EAChC,CAAoC,EACrC,CAAmC,EAC3B,oBAAyB,EAC3B,kBAAwB;YAV5B,MAAC,GAAD,CAAC,CAAmC;YACpC,MAAC,GAAD,CAAC,CAA6B;YACV,MAAC,GAAD,CAAC,CAAsB;YACtB,MAAC,GAAD,CAAC,CAAuB;YACtB,MAAC,GAAD,CAAC,CAAyB;YAC7B,MAAC,GAAD,CAAC,CAAsB;YAC7B,MAAC,GAAD,CAAC,CAAgB;YACf,MAAC,GAAD,CAAC,CAAkB;YACpB,MAAC,GAAD,CAAC,CAAiB;YAjBlC,MAAC,GAAc,IAAI,eAAG,EAAc,CAAC;YACrC,MAAC,GAAyB,IAAI,eAAG,EAAc,CAAC;YAEhD,MAAC,GAAQ,IAAI,eAAG,EAAkC,CAAC;YAC5D,MAAC,GAA2B,KAAK,CAAC;YAiBzC,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;YAClD,GAAG,CAAC,GAAG,CAAI,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YAEpC,IAAI,CAAC,CAAC,GAAiB,kBAAI,CAAc,YAAY,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;YACnF,IAAI,CAAC,CAAC,GAAc,kBAAI,CAAc,KAAK,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;YACzE,IAAI,CAAC,CAAC,GAAyB,kBAAI,CAAc,oBAAoB,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;YAEnG,IAAI,CAAC,CAAC,GAAS,IAAI,CAAC,CAAC,CAAqB,cAAc,CAAC,aAAI,EAAY,aAAI,CAAqB,CAAC;YAEnG,MAAM,MAAM,GAAG,IAAI,CAAC,CAAC,CAAuB,QAAQ,EAAE,IAAI,SAAS,CAAC;YACpE,MAAM,MAAM,GAAG,CAAC,CAAQ,YAAY,IAAI,mBAAG,CAA4B;YACvE,IAAI,CAAC,CAAC,GAAS,IAAI,uBAAG,CAAe,IAAI,CAAC,OAAO,EAAE,MAAI,CAAe,CAAC,CAAe,MAAM,CAAC,EAAE,aAAa,EAAE,MAAM,CAAC,CAAC;YACtH,IAAI,CAAC,CAAC,CAAO,eAAe,CAAC,IAAI,CAAC,CAAC,EAAe,IAAI,EAAE,IAAI,CAAC,CAAC,CAAY,CAAC;YAC3E,IAAI,CAAC,CAAC,CAAO,cAAc,CAAC,IAAI,CAAC,CAAC,EAAc,IAAI,EAAE,IAAI,CAAC,CAAC,CAAY,CAAC;YACzE,IAAI,CAAC,CAAC,CAAO,gBAAgB,CAAC,IAAI,CAAC,CAAC,EAA2B,IAAI,EAAE,IAAI,CAAC,CAAC,CAAY,CAAC;YAExF,IAAI,CAAC,CAAC,GAAwB,MAAI,CAAe,sBAAsB,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAkB,CAAC;YACxG,IAAI,CAAC,CAAC,GAAuB,MAAI,CAAe,qBAAqB,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAkB,CAAC;YACtG,IAAI,CAAC,CAAC,GAAsB,MAAI,CAAe,oBAAoB,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAkB,CAAC;YAEpG,IAAI,CAAC,CAAC,CAAY,GAAG,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAY,EAAE,EAAE,IAAI,CAAC,CAAC,CAAO,CAAC,CAAC;YACvF,IAAI,CAAC,IAAI,EAAE,CAAC;QACb,CAAC;QAED,OAAO;YACN,IAAI,CAAC,CAAC,CAAY,OAAO,EAAE,CAAC;YAC5B,IAAI,CAAC,CAAC,CAAuB,OAAO,EAAE,CAAC;YACvC,IAAI,CAAC,CAAC,CAAsB,KAAK,EAAE,CAAC;YACpC,IAAI,CAAC,CAAC,CAAqB,KAAK,EAAE,CAAC;YACnC,IAAI,CAAC,CAAC,CAAoB,KAAK,EAAE,CAAC;YAClC,IAAI,CAAC,CAAC,CAAe,OAAO,EAAE,CAAC;YAC/B,IAAI,CAAC,CAAC,CAAY,OAAO,EAAE,CAAC;YAC5B,IAAI,CAAC,CAAC,CAAO,OAAO,EAAE,CAAC;YACvB,IAAI,CAAC,CAAC,CAAO,OAAO,EAAE,CAAC;YACvB,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;QACvB,CAAC;QAED,IAAI,KAAK;YACR,OAAO,IAAI,CAAC,CAAC,CAAM,KAAK,CAAC;QAC1B,CAAC;QAED,MAAM,CAAC,GAA8B;YACpC,IAAI,CAAC,CAAC,CAAO,MAAM,CAAC,GAAG,CAAC,CAAC;QAC1B,CAAC;QAED,QAAQ;YACP,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAClD,CAAC;QAED,IAAI;YACH,IAAI,CAAC,CAAC,CAAuB,KAAK,EAAE,CAAC;YACrC,IAAI,CAAC,CAAC,CAAqB,GAAG,CAAC,KAAK,CAAC,CAAC;YACtC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QAC/C,CAAC;QAED,UAAU;YACT,IAAI,CAAC,CAAC,CAAO,UAAU,EAAE,CAAC;QAC3B,CAAC;QAED,MAAM;YACL,IAAI,CAAC,CAAC,CAAuB,KAAK,EAAE,CAAC;YAErC,8BAA8B;YAC9B,MAAM,GAAG,GAAG,YAAG,CAAoB,eAAe,CAAC,IAAI,CAAC,CAAC,CAAY,YAAY,EAAE,EAAE,iBAAiB,EAAE,yBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC;YACpI,MAAM,SAAS,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;YAElC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAY,WAAW,CAAC,GAAG,CAAC,EAAE;gBAChD,oDAAoD;gBACpD,8BAA8B;gBAC9B,IAAI,CAAC,CAAC,CAAsB,GAAG,CAAC,KAAK,CAAC,CAAC;gBACvC,IAAI,CAAC,SAAS,EAAE;oBACf,IAAI,CAAC,IAAI,EAAE,CAAC;oBACZ,OAAO,IAAI,CAAC;iBACZ;qBAAM;oBACN,OAAO,KAAK,CAAC;iBACb;aACD;YAED,uDAAuD;YACvD,MAAM,WAAW,GAAG,YAAG,CAAoB,cAAc,CAAC,IAAI,CAAC,CAAC,CAAY,YAAY,EAAE,EAAE,iBAAiB,EAAE,yBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC;YAE3I,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;YAC/C,IAAI,CAAC,CAAC,CAAqB,GAAG,CAAC,IAAI,CAAC,CAAC;YACrC,IAAI,CAAC,CAAC,CAAsB,GAAG,CAAC,IAAI,CAAC,CAAC;YAEtC,MAAM,KAAK,GAAG,IAAI,CAAC,CAAC,CAAqB,cAAc,CAAC,uBAAI,EAC3D,WAAW,IAAI,GAAG,EAClB,IAAI,CAAC,CAAC,CAAY,gBAAgB,CAClC,CAAC;YACF,IAAI,CAAC,CAAC,CAAM,KAAK,GAAG,KAAK,CAAC;YAE1B,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC,CAAa,YAAY,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,SAAS,CAAC,KAAK,IAAI,CAAC,CAAC;YAErH,MAAM,iBAAiB,GAAG,GAAG,EAAE;gBAC9B,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,eAAe,EAAE,KAAK,CAAC,UAAU,EAAE,CAAC,CAAC;gBACnE,MAAM,SAAS,GAAG,IAAI,CAAC,CAAC,CAAY,QAAQ,EAAE,CAAC;gBAC/C,MAAM,OAAO,GAA+B;oBAC3C,GAAG,IAAI,CAAC,CAAC;oBACT,aAAa,EAAE,IAAI,CAAC,CAAC,CAAQ,aAAa,IAAI,SAAS;oBACvD,eAAe,EAAE,IAAI,CAAC,CAAC,CAAQ,eAAe,IAAI,SAAS;iBAC3D,CAAC;gBACF,MAAM,KAAK,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,YAAY,uBAAI,CAAQ,CAAC,CAAC,IAAI,QAAQ,CAAC,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAO,CAAC,CAAC,CAAC,IAAI,WAAW,CAAC,KAAK,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC;gBAClL,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;oBACvB,IAAI,CAAC,CAAC,CAAO,UAAU,CAAC,KAAK,CAAC,CAAC;oBAC/B,IAAI,CAAC,CAAC,CAAO,QAAQ,CAAC,CAAC,IAAI,KAAM,SAAQ,uBAAG;4BAC3C,MAAM,CAAC,SAAsB;gCAC5B,SAAS,CAAC,SAAS,GAAG,IAAA,cAAQ,EAAC,CAAO,EAAE,IAAa,CAAC,CAAC;4BACxD,CAAC;4BACD,MAAM,CAAC,KAAU;gCAChB,OAAO,KAAK,KAAK,IAAI,CAAC;4BACvB,CAAC;yBACD,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACN,IAAI,CAAC,CAAC,CAAO,UAAU,CAAC,IAAI,CAAC,CAAC;oBAC9B,IAAI,CAAC,CAAC,CAAO,QAAQ,CAAC,KAAK,CAAC,CAAC;oBAC7B,IAAI,CAAC,CAAC,CAAO,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;iBAC7C;YACF,CAAC,CAAC;YACF,MAAM,QAAQ,GAAG,KAAK,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC;YACtD,MAAM,cAAc,GAAG,IAAI,CAAC,CAAC,CAAY,WAAW,CAAC,iBAAiB,CAAC,CAAC;YACxE,iBAAiB,EAAE,CAAC;YACpB,IAAI,CAAC,CAAC,CAAuB,KAAK,EAAE,CAAC;YACrC,IAAI,CAAC,CAAC,CAAuB,GAAG,CAAC,QAAQ,CAAC,CAAC;YAC3C,IAAI,CAAC,CAAC,CAAuB,GAAG,CAAC,IAAA,eAAG,EAAU,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,CAAM,KAAK,EAAE,CAAC,CAAC,CAAC;YAC1E,IAAI,CAAC,CAAC,CAAuB,GAAG,CAAC,cAAc,CAAC,CAAC;YACjD,IAAI,CAAC,CAAC,CAAuB,GAAG,CAAC,IAAA,eAAG,EAAU,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,CAAO,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAEhF,MAAM,qBAAqB,GAAG,GAAG,EAAE;gBAClC,MAAM,MAAM,GAAG,IAAI,CAAC,CAAC,CAAuB,QAAQ,EAAE,IAAI,SAAS,CAAC;gBACpE,IAAI,CAAC,CAAC,CAAO,0BAA0B,CAAC,MAAI,CAAe,CAAC,CAAe,MAAM,CAAC,CAAC,CAAC;YACrF,CAAC,CAAC;YACF,qBAAqB,EAAE,CAAC;YACxB,MAAM,2BAA2B,GAAG,IAAI,CAAC,CAAC,CAAuB,WAAW,CAAC,qBAAqB,CAAC,CAAC;YACpG,IAAI,CAAC,CAAC,CAAuB,GAAG,CAAC,2BAA2B,CAAC,CAAC;YAE9D,8BAA8B;YAC9B,IAAI,CAAC,CAAC,CAAuB,GAAG,CAAC;gBAChC,OAAO,EAAE,GAAG,EAAE;oBACb,IAAI,IAAI,CAAC,CAAC,EAA0B;wBACnC,IAAI,CAAC,CAAC,CAAmB,eAAe,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;qBAC3D;gBACF,CAAC;aACD,CAAC,CAAC;YAEH,OAAO,SAAS,KAAK,IAAI,CAAC,QAAQ,EAAE,CAAC;QACtC,CAAC;QAEO,CAAC,CAAa,KAA4B;YACjD,IAAI,KAAK,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,EAA0B;gBACjD,IAAI,CAAC,CAAC,GAAkC,SAAS,CAAC;gBAClD,IAAI,CAAC,CAAC,CAAO,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;aACtC;QACF,CAAC;QAEO,CAAC,CAAc,KAA4B;YAClD,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE;gBAChB,OAAO;aACP;YAED,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC,EAAiC;gBACzD,IAAI,CAAC,CAAC,GAAkC,SAAS,CAAC;gBAClD,IAAI,CAAC,CAAC,CAAO,UAAU,CAAC,SAAS,CAAC,CAAC;gBACnC,IAAI,CAAC,CAAC,CAAO,YAAY,CAAC,SAAS,CAAC,CAAC;gBACrC,OAAO;aACP;YAED,MAAM,EAAE,OAAO,EAAE,GAAG,KAAK,CAAC,IAA8B,CAAC;YACzD,IAAI,CAAC,CAAC,CAAY,KAAK,EAAE,CAAC;YAE1B,MAAM,KAAK,GAAG,IAAI,CAAC,CAAC,CAAe,KAAK,CAAC,OAAO,CAAC,CAAC;YAClD,IAAI,KAAK,KAAK,SAAS,EAAE;gBACxB,kBAAkB;gBAClB,IAAI,CAAC,CAAC,CAAO,UAAU,CAAC,SAAS,CAAC,CAAC;gBACnC,IAAI,CAAC,CAAC,CAAO,YAAY,CAAC,SAAS,CAAC,CAAC;gBACrC,IAAI,CAAC,CAAC,CAAe,KAAK,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;gBAC5C,OAAO;aACP;YAED,IAAI,IAAI,CAAC,CAAC,CAAe,QAAQ,EAAE,EAAE;gBACpC,mBAAmB;gBACnB,IAAI,CAAC,CAAC,CAAO,UAAU,CAAC,SAAS,CAAC,CAAC;gBACnC,IAAI,CAAC,CAAC,CAAO,YAAY,CAAC,SAAS,CAAC,CAAC;gBACrC,IAAI,CAAC,CAAC,CAAkB,WAAW,CAAC,IAAI,CAAC,OAAO,YAAY,uBAAI,CAAY,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;gBACxF,OAAO;aACP;YAED,cAAc;YACd,IAAI,MAAY,CAAc;YAC9B,IAAI,YAAsC,CAAC;YAI3C,IAAI,CAAC,CAAC,CAAmB,eAAe,CAAC;gBACxC,MAAM,EAAE,CAAC,MAAmB,EAAE,EAAE;oBAC/B,IAAI,KAAK,CAAC,IAAI,YAAY,QAAQ,EAAE;wBACnC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAqB,cAAc,CAAC,wBAAI,EAAmB,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;qBAC7G;yBAAM,IAAI,KAAK,CAAC,IAAI,YAAY,WAAW,EAAE;wBAC7C,MAAM,GAAG,IAAI,CAAC,CAAC,CAAqB,cAAc,CAAC,wBAAI,EAAsB,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;qBAChH;oBAED,MAAM,cAAc,GAAG,MAAM,CAAC,iBAAiB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,CAAmB,eAAe,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;oBACjI,MAAM,YAAY,GAAG,aAAG,CAAQ,WAAW,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,CAAmB,eAAe,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;oBAE9G,MAAM,YAAY,GAAG,GAAG,CAAC,GAAG,CAAQ,MAAM,CAAC,CAAC;oBAC5C,MAAM,YAAY,GAAG,YAAY,CAAC,SAAS,CAAC,GAAG,EAAE;wBAChD,IAAI,CAAC,CAAC,GAAkC,IAAI,CAAC,CAAC,CAAO,YAAY,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC;wBAC7F,IAAI,CAAC,CAAC,CAAmB,eAAe,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;oBAC5D,CAAC,CAAC,CAAC;oBAEH,IAAI,CAAC,CAAC,GAA2B,IAAI,CAAC;oBACtC,IAAI,CAAC,CAAC,EAA2B,CAAC;oBAElC,OAAO,IAAA,eAAG,EACT,MAAM,EACN,cAAc,EACd,YAAY,EACZ,YAAY,EACZ,YAAY,CACZ,CAAC;gBACH,CAAC;gBACD,SAAS,EAAE,GAAG,EAAE;oBACf,IAAI,CAAC,YAAY,EAAE;wBAClB,MAAM,aAAa,GAAG,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC,iCAAiC,CAAC;wBAC9E,IAAI,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,WAAW,GAAG,GAAG,EAAE,GAAG,CAAC,CAAC;wBAExD,MAAM,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,aAAa,GAAG,IAAI,CAAC,CAAC,CAAC;wBACjF,MAAM,eAAe,GAAG,CAAC,CAAC;wBAC1B,IAAI,iBAAyB,CAAC;wBAE9B,MAAM,IAAI,GAAG,GAAG,CAAC,GAAG,CAAoB,KAAK,CAAC,IAAI,CAAC,UAAyB,CAAC,CAAC;wBAC9E,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,eAAe,CAAC;wBACnD,IAAI,CAAC,GAAG,SAAS,IAAI,MAAM,CAAC,WAAW,EAAE;4BACxC,SAAS,GAAG,MAAM,CAAC,WAAW,GAAG,CAAC,GAAG,EAAE,CAAC,mCAAmC,CAAC;yBAC5E;wBACD,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC;wBAClB,IAAI,CAAC,GAAG,WAAW,IAAI,aAAa,EAAE;4BACrC,CAAC,GAAG,aAAa,GAAG,WAAW,CAAC;yBAChC;wBACD,IAAI,KAAK,CAAC,OAAO,YAAY,gBAAG,EAAiB;4BAChD,MAAM,oBAAoB,GAAG,WAAW,GAAG,CAAC,GAAG,eAAe,CAAC;4BAC/D,iBAAiB,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,GAAG,CAAC,CAAC;4BAC3C,IAAI,iBAAiB,GAAG,oBAAoB,EAAE;gCAC7C,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,GAAG,WAAW,EAAE,CAAC,GAAG,iBAAiB,GAAG,oBAAoB,CAAC,CAAC;gCACxF,iBAAiB,GAAG,oBAAoB,CAAC;6BACzC;yBACD;6BAAM;4BACN,iBAAiB,GAAG,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;yBACzD;wBACD,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,eAAe,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,iBAAiB,CAAC,CAAC,CAAC;wBAC9F,YAAY,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;qBACxB;oBACD,OAAO,YAAY,CAAC;gBACrB,CAAC;gBACD,MAAM,EAAE,CAAC,IAAgB,EAAE,EAAE;oBAC5B,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE;wBACnB,MAAM,CAAC,gBAAgB,EAAE,CAAC;qBAC1B;oBACD,IAAI,CAAC,CAAC,GAA2B,KAAK,CAAC;oBACvC,IAAI,CAAC,CAAC,EAA2B,CAAC;oBAClC,IAAI,IAAI,EAAE,MAAM,KAAK,IAAI,EAAE;wBAC1B,IAAI,CAAC,CAAC,CAAO,UAAU,CAAC,SAAS,CAAC,CAAC;wBACnC,IAAI,CAAC,CAAC,CAAO,YAAY,CAAC,SAAS,CAAC,CAAC;qBACrC;oBACD,MAAM,CAAC,OAAO,EAAE,CAAC;gBAClB,CAAC;aACD,CAAC,CAAC;QACJ,CAAC;QAEO,CAAC;YACR,MAAM,KAAK,GAAG,IAAI,CAAC,CAAC,CAAO,YAAY,EAAE,IAAI,IAAI,CAAC,CAAC,CAAyB;YAC5E,IAAI,CAAC,CAAC,CAAoB,GAAG,CAAC,KAAK,CAAC,CAAC;QACtC,CAAC;QAEO,KAAK,CAAC,CAAC,CAAe,KAA4B,EAAE,OAA2B,EAAa,KAAsD,EAAE,SAAkB,KAAK;YAElL,IAAI,OAAO,YAAY,uBAAI,EAAS;gBACnC,IAAI,OAAO,CAAC,IAAI,KAAK,gBAAQ,CAAC,IAAI,EAAE;oBACnC,MAAM,IAAI,CAAC,CAAC,CAAc,UAAU,CAAC,EAAE,QAAQ,EAAE,OAAO,CAAC,GAAG,EAAE,OAAO,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;iBAC5F;qBAAM;oBACN,mBAAmB;oBACnB,MAAM,KAAK,GAAG,IAAI,CAAC,CAAC,CAAO,QAAQ,EAAE,CAAC;oBACtC,MAAM,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBACtC,IAAI,CAAC,CAAC,CAAO,UAAU,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;oBACxC,IAAI,CAAC,CAAC,CAAO,YAAY,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,EAAE,MAAI,CAAe,YAAY,CAAC,CAAC;iBAC3E;aACD;iBAAM;gBACN,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,MAAM,EAAE,EAAE,KAAK,KAAK,mBAAG,CAAQ,CAAC;aAClE;QACF,CAAC;QAEO,CAAC,CAAe,IAAY;YACnC,IAAI,IAAI,KAAK,MAAI,CAAe,mBAAmB,EAAE;gBACpD,OAAO,mBAAG,CAAQ;aAClB;iBAAM,IAAI,IAAI,KAAK,MAAI,CAAe,cAAc,EAAE;gBACtD,OAAO,mBAAG,CAAU;aACpB;iBAAM;gBACN,OAAO,SAAS,CAAC;aACjB;QACF,CAAC;;IA5VW,oBAAI;mBAAJ,IAAI;QAuCd,WAAA,gBAAG,CAAA;QACH,WAAA,iBAAG,CAAA;QACH,WAAA,mBAAG,CAAA;QACH,WAAA,gBAAG,CAAA;QACH,WAAA,WAAG,CAAA;QACH,WAAA,mBAAG,CAAA;QACH,WAAA,WAAG,CAAA;QACH,YAAA,mBAAG,CAAA;QACH,YAAA,kBAAI,CAAA;OA/CM,IAAI,CA6VhB;IAEM,IAAM,IAAI,GAAV,MAAM,IAAI;QAKhB,IAAI,OAAO,KAAK,OAAO,IAAI,CAAC,CAAC,CAAQ,CAAC,CAAC;QAGvC,IAAI,qBAAqB,KAAK,OAAO,IAAI,CAAC,CAAC,CAAsB,KAAK,CAAC,CAAC,CAAC;QAEzE,YACC,SAAsB,EACtB,WAA6B,EAC7B,OAAmC,EACZ,oBAAyB,EACzB,oBAAyB,EAClC,WAAgB;YAdd,MAAC,GAAc,IAAI,eAAG,EAAc,CAAC;YAKrC,MAAC,GAAwB,IAAI,CAAC,CAAC,CAAY,GAAG,CAAC,IAAI,WAAG,EAAY,CAAC,CAAC;YAWpF,MAAM,MAAM,GAAG,IAAI,CAAC,CAAC,CAAY,GAAG,CAAC,kBAAI,CAAc,SAAS,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,CAAC;YAC/F,IAAI,CAAC,CAAC,CAAY,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE;gBAC7C,MAAM,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;gBAChC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,EAAS;oBAC5B,IAAI,CAAC,CAAC,CAAQ,OAAO,EAAE,CAAC;oBACxB,IAAI,CAAC,CAAC,GAAU,SAAS,CAAC;oBAC1B,IAAI,CAAC,CAAC,CAAsB,IAAI,EAAE,CAAC;iBACnC;qBAAM,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,EAAS;oBACnC,IAAI,CAAC,CAAC,GAAU,oBAAoB,CAAC,cAAc,CAAC,IAAI,EAAgB,SAAS,EAAE,OAAO,EAAE,WAAW,CAAC,CAAC;oBACzG,IAAI,CAAC,CAAC,CAAQ,MAAM,EAAE,CAAC;oBACvB,IAAI,CAAC,CAAC,CAAsB,IAAI,EAAE,CAAC;iBACnC;YACF,CAAC,CAAC,CAAC,CAAC;YAEJ,IAAI,MAAM,CAAC,QAAQ,EAAE,EAAE;gBACtB,IAAI,CAAC,CAAC,GAAU,oBAAoB,CAAC,cAAc,CAAC,IAAI,EAAgB,SAAS,EAAE,OAAO,EAAE,WAAW,CAAC,CAAC;aACzG;YAED,IAAI,CAAC,CAAC,CAAY,GAAG,CAAC,WAAW,CAAC,0CAA0C,CAAC,CAAC,CAAC,EAAE;gBAChF,IAAI,IAAI,CAAC,CAAC,EAAS,KAAK,IAAI,IAAI,CAAC,CAAC,CAAQ,KAAK,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,CAAC,MAAM,EAAE;oBAC7E,mEAAmE;oBACnE,OAAO;iBACP;gBACD,IAAI,IAAI,CAAC,CAAC,EAAS,MAAM,EAAE,EAAE;oBAC5B,IAAI,CAAC,CAAC,CAAsB,IAAI,EAAE,CAAC;iBACnC;YACF,CAAC,CAAC,CAAC,CAAC;QACL,CAAC;QAED,OAAO;YACN,IAAI,CAAC,CAAC,CAAY,OAAO,EAAE,CAAC;YAC5B,IAAI,CAAC,CAAC,EAAS,OAAO,EAAE,CAAC;QAC1B,CAAC;KACD,CAAA;IAnDY,oBAAI;mBAAJ,IAAI;QAcd,WAAA,mBAAG,CAAA;QACH,WAAA,mBAAG,CAAA;QACH,WAAA,WAAG,CAAA;OAhBO,IAAI,CAmDhB;IAED,kBAAkB;IAElB,iBAAiB;IACjB,IAAA,aAAG,EAAa,MAAM,gBAAiB,SAAQ,aAAG;QAEjD;YACC,KAAK,CAAC;gBACL,EAAE,EAAE,oBAAoB;gBACxB,KAAK,EAAE;oBACN,KAAK,EAAE,IAAA,cAAQ,EAAC,CAAY,EAAE,IAAoB,CAAC;oBACnD,aAAa,EAAE,IAAA,cAAQ,EAAC,CAA4D,CAA1D,CAA4D,EAAzD,EAAE,AAA6E,CAAC,cAA/D,EAAE,OAAO,EAAE,CAAC,uBAAuB,CAAC;oBAClF,QAAQ,EAAE,oBAAoB;iBAC9B;gBACD,QAAQ,EAAE,4BAAG,CAAQ,IAAI;gBACzB,OAAO,EAAE;oBACR,SAAS,EAAE,gBAAG,CAAY,MAAM,CAAC,4BAA4B,EAAE,IAAI,CAAC;oBACpE,KAAK,EAAE,IAAA,cAAQ,EAAC,CAAa,EAAE,IAAa,CAAC;oBAC7C,aAAa,EAAE,IAAA,cAAQ,EAAC,CAA6D,CAA3D,CAA6D,EAA1D,EAAE,AAAuE,CAAC,eAAxD,EAAE,OAAO,EAAE,CAAC,uBAAuB,CAAC;iBACnF;gBACD,IAAI,EAAE;oBACL,EAAE,EAAE,EAAE,aAAG,CAAI,cAAc,EAAE;oBAC7B,EAAE,EAAE,EAAE,aAAG,CAAI,qBAAqB,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,EAAE;oBACjE,EAAE,EAAE,EAAE,aAAG,CAAI,eAAe,EAAE,KAAK,EAAE,gBAAgB,EAAE,KAAK,EAAE,CAAC,EAAE;oBACjE,EAAE,EAAE,EAAE,aAAG,CAAI,mBAAmB,EAAE;iBAClC;aACD,CAAC,CAAC;QACJ,CAAC;QAED,GAAG,CAAC,QAA0B;YAC7B,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,mBAAG,CAAmB,CAAC;YACnD,MAAM,KAAK,GAAG,kBAAI,CAAc,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,CAAC;YACpE,kBAAI,CAAc,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,CAAC;QAChE,CAAC;KAED,CAAC,CAAC;IAEH,yBAAyB;IACzB,SAAS,qBAAqB,CAAC,QAA0B,EAAE,MAAe;QACzE,+BAA+B;QAC/B,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,yBAAG,CAAkB,CAAC;QAClD,MAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAI,CAAgB,CAAC;QACtD,MAAM,MAAM,GAAG,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;QAC5D,IAAI,MAAM,EAAE;YACX,MAAM,IAAI,GAAG,IAAA,YAAG,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;YACrC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YACxB,IAAI,MAAM,EAAE;gBACX,MAAM,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAe,YAAY,CAAC,CAAC;aAC3D;SACD;IACF,CAAC;IACD,IAAA,aAAG,EAAa,MAAM,yBAA0B,SAAQ,aAAG;QAC1D;YACC,KAAK,CAAC;gBACL,EAAE,EAAE,4BAA4B;gBAChC,KAAK,EAAE;oBACN,KAAK,EAAE,IAAA,cAAQ,EAAC,CAAoB,EAAE,IAA8B,CAAC;oBACrE,QAAQ,EAAE,8BAA8B;iBACxC;gBACD,YAAY,EAAE,IAAI,CAAe,qBAAqB;gBACtD,UAAU,EAAE;oBACX,MAAM,6CAAmC;oBACzC,OAAO,EAAE,mDAA6B,0BAAiB;oBACvD,IAAI,EAAE,IAAI,CAAe,sBAAsB;iBAC/C;gBACD,EAAE,EAAE,IAAI;aACR,CAAC,CAAC;QACJ,CAAC;QACD,GAAG,CAAC,QAA0B,EAAE,GAAG,IAAW;YAC7C,qBAAqB,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QACvC,CAAC;KACD,CAAC,CAAC;IAEH,IAAA,aAAG,EAAa,MAAM,gBAAiB,SAAQ,aAAG;QACjD;YACC,KAAK,CAAC;gBACL,EAAE,EAAE,mBAAmB;gBACvB,KAAK,EAAE;oBACN,KAAK,EAAE,IAAA,cAAQ,EAAC,EAAW,EAAE,IAAmB,CAAC;oBACjD,QAAQ,EAAE,mBAAmB;iBAC7B;gBACD,YAAY,EAAE,IAAI,CAAe,qBAAqB;gBACtD,UAAU,EAAE;oBACX,MAAM,6CAAmC;oBACzC,OAAO,EAAE,mDAA6B,6BAAoB;oBAC1D,IAAI,EAAE,IAAI,CAAe,sBAAsB;iBAC/C;gBACD,EAAE,EAAE,IAAI;aACR,CAAC,CAAC;QACJ,CAAC;QACD,GAAG,CAAC,QAA0B,EAAE,GAAG,IAAW;YAC7C,qBAAqB,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;QACxC,CAAC;KACD,CAAC,CAAC;IAEH,qDAAqD;IACrD,6CAA6C;IAC7C,yBAAG,CAAiB,gCAAgC,CAAC;QACpD,EAAE,EAAE,wBAAwB;QAC5B,MAAM,6CAAmC;QACzC,OAAO,EAAE,mDAA6B,0BAAiB;QACvD,IAAI,EAAE,gBAAG,CAAY,GAAG,CAAC,4BAA4B,CAAC;QACtD,OAAO,EAAE,KAAK,EAAC,QAAQ,EAAC,EAAE;YACzB,MAAM,OAAO,GAAG,QAAQ,CAAC,GAAG,CAAC,mBAAG,CAAmB,CAAC;YACpD,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,mBAAG,CAAmB,CAAC;YACnD,sCAAsC;YACtC,MAAM,SAAS,GAAG,kBAAI,CAAc,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YAC7D,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,EAAE;gBAC1B,MAAM,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;gBAClC,MAAM,IAAA,WAAG,EAAK,EAAE,CAAC,CAAC,CAAC,+CAA+C;aAClE;YACD,OAAO,OAAO,CAAC,cAAc,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;QAC5D,CAAC;KACD,CAAC,CAAC;IAEH,aAAa;IACb,yBAAG,CAAiB,gCAAgC,CAAC;QACpD,EAAE,EAAE,uBAAuB;QAC3B,MAAM,6CAAmC;QACzC,OAAO,6BAAoB;QAC3B,SAAS,EAAE,CAAC,uDAAmC,CAAC;QAChD,GAAG,EAAE;YACJ,OAAO,6BAAoB;YAC3B,SAAS,EAAE,CAAC,kDAA+B,CAAC;SAC5C;QACD,IAAI,EAAE,gBAAG,CAAY,GAAG,CAAC,IAAI,CAAe,qBAAqB,EAAE,IAAI,CAAe,oBAAoB,CAAC;QAC3G,OAAO,CAAC,QAAQ;YACf,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,yBAAG,CAAkB,CAAC;YAClD,MAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAI,CAAgB,CAAC;YACtD,MAAM,MAAM,GAAG,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;YAC5D,IAAI,CAAC,MAAM,EAAE;gBACZ,OAAO;aACP;YACD,MAAM,CAAC,SAAS,EAAE,CAAC;QACpB,CAAC;KACD,CAAC,CAAC;IACH,yBAAG,CAAiB,gCAAgC,CAAC;QACpD,EAAE,EAAE,2BAA2B;QAC/B,MAAM,6CAAmC;QACzC,OAAO,4BAAmB;QAC1B,SAAS,EAAE,CAAC,sDAAkC,CAAC;QAC/C,GAAG,EAAE;YACJ,OAAO,4BAAmB;YAC1B,SAAS,EAAE,CAAC,iDAA8B,CAAC;SAC3C;QACD,IAAI,EAAE,gBAAG,CAAY,GAAG,CAAC,IAAI,CAAe,qBAAqB,EAAE,IAAI,CAAe,oBAAoB,CAAC;QAC3G,OAAO,CAAC,QAAQ;YACf,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,yBAAG,CAAkB,CAAC;YAClD,MAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAI,CAAgB,CAAC;YACtD,MAAM,MAAM,GAAG,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;YAC5D,IAAI,CAAC,MAAM,EAAE;gBACZ,OAAO;aACP;YACD,MAAM,CAAC,SAAS,EAAE,CAAC;QACpB,CAAC;KACD,CAAC,CAAC;IACH,yBAAG,CAAiB,gCAAgC,CAAC;QACpD,EAAE,EAAE,iCAAiC;QACrC,MAAM,EAAE,8CAAoC,CAAC;QAC7C,OAAO,EAAE,uDAAmC;QAC5C,GAAG,EAAE;YACJ,OAAO,EAAE,kDAA+B;SACxC;QACD,IAAI,EAAE,gBAAG,CAAY,GAAG,CAAC,IAAI,CAAe,qBAAqB,EAAE,IAAI,CAAe,oBAAoB,EAAE,iBAAG,CAA0B;QACzI,OAAO,CAAC,QAAQ;YACf,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,yBAAG,CAAkB,CAAC;YAClD,MAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAI,CAAgB,CAAC;YACtD,MAAM,MAAM,GAAG,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;YAC5D,IAAI,CAAC,MAAM,EAAE;gBACZ,OAAO;aACP;YACD,MAAM,CAAC,SAAS,EAAE,CAAC;QACpB,CAAC;KACD,CAAC,CAAC;IACH,yBAAG,CAAiB,gCAAgC,CAAC;QACpD,EAAE,EAAE,qCAAqC;QACzC,MAAM,EAAE,8CAAoC,CAAC;QAC7C,OAAO,EAAE,sDAAkC;QAC3C,GAAG,EAAE;YACJ,OAAO,EAAE,iDAA8B;SACvC;QACD,IAAI,EAAE,gBAAG,CAAY,GAAG,CAAC,IAAI,CAAe,qBAAqB,EAAE,IAAI,CAAe,oBAAoB,EAAE,iBAAG,CAA0B;QACzI,OAAO,CAAC,QAAQ;YACf,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,yBAAG,CAAkB,CAAC;YAClD,MAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAI,CAAgB,CAAC;YACtD,MAAM,MAAM,GAAG,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;YAC5D,IAAI,CAAC,MAAM,EAAE;gBACZ,OAAO;aACP;YACD,MAAM,CAAC,SAAS,EAAE,CAAC;QACpB,CAAC;KACD,CAAC,CAAC;IACH,yBAAG,CAAiB,gCAAgC,CAAC;QACpD,EAAE,EAAE,2BAA2B;QAC/B,MAAM,6CAAmC;QACzC,OAAO,uBAAe;QACtB,SAAS,EAAE,4BAAmB;QAC9B,IAAI,EAAE,gBAAG,CAAY,GAAG,CAAC,IAAI,CAAe,qBAAqB,EAAE,IAAI,CAAe,oBAAoB,CAAC;QAC3G,OAAO,CAAC,QAAQ;YACf,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,yBAAG,CAAkB,CAAC;YAClD,MAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAI,CAAgB,CAAC;YACtD,MAAM,MAAM,GAAG,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;YAC5D,IAAI,CAAC,MAAM,EAAE;gBACZ,OAAO;aACP;YACD,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,IAAI,CAAe,YAAY,CAAC,CAAC;QAC3E,CAAC;KACD,CAAC,CAAC;IACH,yBAAG,CAAiB,gCAAgC,CAAC;QACpD,EAAE,EAAE,2BAA2B;QAC/B,MAAM,6CAAmC;QACzC,OAAO,wBAAe;QACtB,SAAS,EAAE,CAAC,iDAA8B,CAAC;QAC3C,IAAI,EAAE,gBAAG,CAAY,GAAG,CAAC,IAAI,CAAe,qBAAqB,EAAE,IAAI,CAAe,oBAAoB,CAAC;QAC3G,OAAO,CAAC,QAAQ;YACf,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,yBAAG,CAAkB,CAAC;YAClD,MAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAI,CAAgB,CAAC;YACtD,MAAM,MAAM,GAAG,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;YAC5D,IAAI,CAAC,MAAM,EAAE;gBACZ,OAAO;aACP;YACD,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,IAAI,CAAe,cAAc,CAAC,CAAC;QAC7E,CAAC;KACD,CAAC,CAAC;IACH,yBAAG,CAAiB,gCAAgC,CAAC;QACpD,EAAE,EAAE,0BAA0B;QAC9B,MAAM,EAAE,8CAAoC,CAAC;QAC7C,OAAO,wBAAgB;QACvB,IAAI,EAAE,gBAAG,CAAY,GAAG,CAAC,IAAI,CAAe,qBAAqB,EAAE,IAAI,CAAe,oBAAoB,CAAC;QAC3G,OAAO,CAAC,QAAQ;YACf,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,yBAAG,CAAkB,CAAC;YAClD,MAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAI,CAAgB,CAAC;YACtD,MAAM,MAAM,GAAG,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;YAC5D,IAAI,CAAC,MAAM,EAAE;gBACZ,OAAO;aACP;YACD,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;YAC7B,MAAM,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;YAC/B,MAAM,CAAC,WAAW,CAAC,gBAAgB,EAAE,KAAK,EAAE,CAAC;QAC9C,CAAC;KACD,CAAC,CAAC;IACH,yBAAG,CAAiB,gCAAgC,CAAC;QACpD,EAAE,EAAE,wCAAwC;QAC5C,MAAM,6CAAmC;QACzC,OAAO,EAAE,iDAA8B;QACvC,IAAI,EAAE,gBAAG,CAAY,GAAG,CAAC,IAAI,CAAe,qBAAqB,EAAE,IAAI,CAAe,oBAAoB,EAAE,iBAAG,CAA0B;QACzI,OAAO,CAAC,QAAQ;YACf,MAAM,OAAO,GAAG,QAAQ,CAAC,GAAG,CAAC,mBAAG,CAAY,CAAC;YAC7C,MAAM,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,iBAAG,CAAU,CAAC;YAEzC,MAAM,IAAI,GAAG,KAAK,CAAC,eAAe,CAAC;YACnC,IAAI,CAAC,CAAC,IAAI,YAAY,iBAAG,CAAe,IAAI,CAAC,CAAC,IAAI,YAAY,iBAAG,CAAoB,EAAE;gBACtF,OAAO;aACP;YAED,MAAM,OAAO,GAAwB,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC;YAExD,IAAI,SAAG,CAAC,KAAK,CAAa,OAAQ,EAAE,QAAQ,CAAC,EAAE;gBAC9C,iCAAiC;gBACjC,OAAO,OAAO,CAAC,UAAU,CAAC;oBACzB,QAAQ,EAAc,OAAQ,CAAC,QAAQ;oBACvC,OAAO,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;iBACzB,EAAE,mBAAG,CAAQ,CAAC;aACf;YAED,gEAAgE;YAChE,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;YAC9B,IAAI,KAAK,IAAI,OAAuB,KAAM,CAAC,WAAW,KAAK,QAAQ,EAAE;gBACpE,OAAuB,KAAM,CAAC,MAAM,CAAC,OAAO,EAAE;oBAC7C,MAAM,EAAE,IAAI;oBACZ,aAAa,EAAE,KAAK;iBACpB,EAAE,IAAI,CAAC,CAAC;aACT;QACF,CAAC;KACD,CAAC,CAAC;;AACH,YAAY","file":"breadcrumbsControl.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from 'vs/base/browser/dom';\nimport { StandardMouseEvent } from 'vs/base/browser/mouseEvent';\nimport { BreadcrumbsItem, BreadcrumbsWidget, IBreadcrumbsItemEvent, IBreadcrumbsWidgetStyles } from 'vs/base/browser/ui/breadcrumbs/breadcrumbsWidget';\nimport { tail } from 'vs/base/common/arrays';\nimport { timeout } from 'vs/base/common/async';\nimport { KeyCode, KeyMod } from 'vs/base/common/keyCodes';\nimport { combinedDisposable, DisposableStore, MutableDisposable, toDisposable } from 'vs/base/common/lifecycle';\nimport { extUri } from 'vs/base/common/resources';\nimport { URI } from 'vs/base/common/uri';\nimport 'vs/css!./media/breadcrumbscontrol';\nimport { localize } from 'vs/nls';\nimport { Action2, MenuId, registerAction2 } from 'vs/platform/actions/common/actions';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { ContextKeyExpr, IContextKey, IContextKeyService, RawContextKey } from 'vs/platform/contextkey/common/contextkey';\nimport { IContextViewService } from 'vs/platform/contextview/browser/contextView';\nimport { FileKind, IFileService, IFileStat } from 'vs/platform/files/common/files';\nimport { IInstantiationService, ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\nimport { KeybindingsRegistry, KeybindingWeight } from 'vs/platform/keybinding/common/keybindingsRegistry';\nimport { IListService, WorkbenchAsyncDataTree, WorkbenchDataTree, WorkbenchListFocusContextKey } from 'vs/platform/list/browser/listService';\nimport { IQuickInputService } from 'vs/platform/quickinput/common/quickInput';\nimport { DEFAULT_LABELS_CONTAINER, ResourceLabels } from 'vs/workbench/browser/labels';\nimport { BreadcrumbsConfig, IBreadcrumbsService } from 'vs/workbench/browser/parts/editor/breadcrumbs';\nimport { BreadcrumbsModel, FileElement, OutlineElement2 } from 'vs/workbench/browser/parts/editor/breadcrumbsModel';\nimport { BreadcrumbsFilePicker, BreadcrumbsOutlinePicker, BreadcrumbsPicker } from 'vs/workbench/browser/parts/editor/breadcrumbsPicker';\nimport { IEditorPartOptions, EditorResourceAccessor, SideBySideEditor } from 'vs/workbench/common/editor';\nimport { ACTIVE_GROUP, ACTIVE_GROUP_TYPE, IEditorService, SIDE_GROUP, SIDE_GROUP_TYPE } from 'vs/workbench/services/editor/common/editorService';\nimport { IEditorGroupsService } from 'vs/workbench/services/editor/common/editorGroupsService';\nimport { IEditorGroupView } from 'vs/workbench/browser/parts/editor/editor';\nimport { PixelRatio } from 'vs/base/browser/browser';\nimport { ILabelService } from 'vs/platform/label/common/label';\nimport { Categories } from 'vs/platform/action/common/actionCommonCategories';\nimport { ITreeNode } from 'vs/base/browser/ui/tree/tree';\nimport { IOutline } from 'vs/workbench/services/outline/browser/outline';\nimport { registerIcon } from 'vs/platform/theme/common/iconRegistry';\nimport { Codicon } from 'vs/base/common/codicons';\nimport { defaultBreadcrumbsWidgetStyles } from 'vs/platform/theme/browser/defaultStyles';\nimport { Emitter } from 'vs/base/common/event';\n\nclass OutlineItem extends BreadcrumbsItem {\n\n\tprivate readonly _disposables = new DisposableStore();\n\n\tconstructor(\n\t\treadonly model: BreadcrumbsModel,\n\t\treadonly element: OutlineElement2,\n\t\treadonly options: IBreadcrumbsControlOptions\n\t) {\n\t\tsuper();\n\t}\n\n\toverride dispose(): void {\n\t\tthis._disposables.dispose();\n\t}\n\n\tequals(other: BreadcrumbsItem): boolean {\n\t\tif (!(other instanceof OutlineItem)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.element.element === other.element.element &&\n\t\t\tthis.options.showFileIcons === other.options.showFileIcons &&\n\t\t\tthis.options.showSymbolIcons === other.options.showSymbolIcons;\n\t}\n\n\trender(container: HTMLElement): void {\n\t\tconst { element, outline } = this.element;\n\n\t\tif (element === outline) {\n\t\t\tconst element = dom.$('span', undefined, 'â€¦');\n\t\t\tcontainer.appendChild(element);\n\t\t\treturn;\n\t\t}\n\n\t\tconst templateId = outline.config.delegate.getTemplateId(element);\n\t\tconst renderer = outline.config.renderers.find(renderer => renderer.templateId === templateId);\n\t\tif (!renderer) {\n\t\t\tcontainer.innerText = '<<NO RENDERER>>';\n\t\t\treturn;\n\t\t}\n\n\t\tconst template = renderer.renderTemplate(container);\n\t\trenderer.renderElement(<ITreeNode<any, any>>{\n\t\t\telement,\n\t\t\tchildren: [],\n\t\t\tdepth: 0,\n\t\t\tvisibleChildrenCount: 0,\n\t\t\tvisibleChildIndex: 0,\n\t\t\tcollapsible: false,\n\t\t\tcollapsed: false,\n\t\t\tvisible: true,\n\t\t\tfilterData: undefined\n\t\t}, 0, template, undefined);\n\n\t\tthis._disposables.add(toDisposable(() => { renderer.disposeTemplate(template); }));\n\t}\n\n}\n\nclass FileItem extends BreadcrumbsItem {\n\n\tprivate readonly _disposables = new DisposableStore();\n\n\tconstructor(\n\t\treadonly model: BreadcrumbsModel,\n\t\treadonly element: FileElement,\n\t\treadonly options: IBreadcrumbsControlOptions,\n\t\tprivate readonly _labels: ResourceLabels\n\t) {\n\t\tsuper();\n\t}\n\n\toverride dispose(): void {\n\t\tthis._disposables.dispose();\n\t}\n\n\tequals(other: BreadcrumbsItem): boolean {\n\t\tif (!(other instanceof FileItem)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn (extUri.isEqual(this.element.uri, other.element.uri) &&\n\t\t\tthis.options.showFileIcons === other.options.showFileIcons &&\n\t\t\tthis.options.showSymbolIcons === other.options.showSymbolIcons);\n\n\t}\n\n\trender(container: HTMLElement): void {\n\t\t// file/folder\n\t\tconst label = this._labels.create(container);\n\t\tlabel.setFile(this.element.uri, {\n\t\t\thidePath: true,\n\t\t\thideIcon: this.element.kind === FileKind.FOLDER || !this.options.showFileIcons,\n\t\t\tfileKind: this.element.kind,\n\t\t\tfileDecorations: { colors: this.options.showDecorationColors, badges: false },\n\t\t});\n\t\tcontainer.classList.add(FileKind[this.element.kind].toLowerCase());\n\t\tthis._disposables.add(label);\n\t}\n}\n\nexport interface IBreadcrumbsControlOptions {\n\treadonly showFileIcons: boolean;\n\treadonly showSymbolIcons: boolean;\n\treadonly showDecorationColors: boolean;\n\treadonly showPlaceholder: boolean;\n\treadonly widgetStyles?: IBreadcrumbsWidgetStyles;\n}\n\nconst separatorIcon = registerIcon('breadcrumb-separator', Codicon.chevronRight, localize('separatorIcon', 'Icon for the separator in the breadcrumbs.'));\n\nexport class BreadcrumbsControl {\n\n\tstatic readonly HEIGHT = 22;\n\n\tprivate static readonly SCROLLBAR_SIZES = {\n\t\tdefault: 3,\n\t\tlarge: 8\n\t};\n\n\tstatic readonly Payload_Reveal = {};\n\tstatic readonly Payload_RevealAside = {};\n\tstatic readonly Payload_Pick = {};\n\n\tstatic readonly CK_BreadcrumbsPossible = new RawContextKey('breadcrumbsPossible', false, localize('breadcrumbsPossible', \"Whether the editor can show breadcrumbs\"));\n\tstatic readonly CK_BreadcrumbsVisible = new RawContextKey('breadcrumbsVisible', false, localize('breadcrumbsVisible', \"Whether breadcrumbs are currently visible\"));\n\tstatic readonly CK_BreadcrumbsActive = new RawContextKey('breadcrumbsActive', false, localize('breadcrumbsActive', \"Whether breadcrumbs have focus\"));\n\n\tprivate readonly _ckBreadcrumbsPossible: IContextKey<boolean>;\n\tprivate readonly _ckBreadcrumbsVisible: IContextKey<boolean>;\n\tprivate readonly _ckBreadcrumbsActive: IContextKey<boolean>;\n\n\tprivate readonly _cfUseQuickPick: BreadcrumbsConfig<boolean>;\n\tprivate readonly _cfShowIcons: BreadcrumbsConfig<boolean>;\n\tprivate readonly _cfTitleScrollbarSizing: BreadcrumbsConfig<IEditorPartOptions['titleScrollbarSizing']>;\n\n\treadonly domNode: HTMLDivElement;\n\tprivate readonly _widget: BreadcrumbsWidget;\n\n\tprivate readonly _disposables = new DisposableStore();\n\tprivate readonly _breadcrumbsDisposables = new DisposableStore();\n\tprivate readonly _labels: ResourceLabels;\n\tprivate readonly _model = new MutableDisposable<BreadcrumbsModel>();\n\tprivate _breadcrumbsPickerShowing = false;\n\tprivate _breadcrumbsPickerIgnoreOnceItem: BreadcrumbsItem | undefined;\n\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\tprivate readonly _options: IBreadcrumbsControlOptions,\n\t\tprivate readonly _editorGroup: IEditorGroupView,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t\t@IContextViewService private readonly _contextViewService: IContextViewService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@IQuickInputService private readonly _quickInputService: IQuickInputService,\n\t\t@IFileService private readonly _fileService: IFileService,\n\t\t@IEditorService private readonly _editorService: IEditorService,\n\t\t@ILabelService private readonly _labelService: ILabelService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IBreadcrumbsService breadcrumbsService: IBreadcrumbsService,\n\t) {\n\t\tthis.domNode = document.createElement('div');\n\t\tthis.domNode.classList.add('breadcrumbs-control');\n\t\tdom.append(container, this.domNode);\n\n\t\tthis._cfUseQuickPick = BreadcrumbsConfig.UseQuickPick.bindTo(configurationService);\n\t\tthis._cfShowIcons = BreadcrumbsConfig.Icons.bindTo(configurationService);\n\t\tthis._cfTitleScrollbarSizing = BreadcrumbsConfig.TitleScrollbarSizing.bindTo(configurationService);\n\n\t\tthis._labels = this._instantiationService.createInstance(ResourceLabels, DEFAULT_LABELS_CONTAINER);\n\n\t\tconst sizing = this._cfTitleScrollbarSizing.getValue() ?? 'default';\n\t\tconst styles = _options.widgetStyles ?? defaultBreadcrumbsWidgetStyles;\n\t\tthis._widget = new BreadcrumbsWidget(this.domNode, BreadcrumbsControl.SCROLLBAR_SIZES[sizing], separatorIcon, styles);\n\t\tthis._widget.onDidSelectItem(this._onSelectEvent, this, this._disposables);\n\t\tthis._widget.onDidFocusItem(this._onFocusEvent, this, this._disposables);\n\t\tthis._widget.onDidChangeFocus(this._updateCkBreadcrumbsActive, this, this._disposables);\n\n\t\tthis._ckBreadcrumbsPossible = BreadcrumbsControl.CK_BreadcrumbsPossible.bindTo(this._contextKeyService);\n\t\tthis._ckBreadcrumbsVisible = BreadcrumbsControl.CK_BreadcrumbsVisible.bindTo(this._contextKeyService);\n\t\tthis._ckBreadcrumbsActive = BreadcrumbsControl.CK_BreadcrumbsActive.bindTo(this._contextKeyService);\n\n\t\tthis._disposables.add(breadcrumbsService.register(this._editorGroup.id, this._widget));\n\t\tthis.hide();\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t\tthis._breadcrumbsDisposables.dispose();\n\t\tthis._ckBreadcrumbsPossible.reset();\n\t\tthis._ckBreadcrumbsVisible.reset();\n\t\tthis._ckBreadcrumbsActive.reset();\n\t\tthis._cfUseQuickPick.dispose();\n\t\tthis._cfShowIcons.dispose();\n\t\tthis._widget.dispose();\n\t\tthis._labels.dispose();\n\t\tthis.domNode.remove();\n\t}\n\n\tget model(): BreadcrumbsModel | undefined {\n\t\treturn this._model.value;\n\t}\n\n\tlayout(dim: dom.Dimension | undefined): void {\n\t\tthis._widget.layout(dim);\n\t}\n\n\tisHidden(): boolean {\n\t\treturn this.domNode.classList.contains('hidden');\n\t}\n\n\thide(): void {\n\t\tthis._breadcrumbsDisposables.clear();\n\t\tthis._ckBreadcrumbsVisible.set(false);\n\t\tthis.domNode.classList.toggle('hidden', true);\n\t}\n\n\trevealLast(): void {\n\t\tthis._widget.revealLast();\n\t}\n\n\tupdate(): boolean {\n\t\tthis._breadcrumbsDisposables.clear();\n\n\t\t// honor diff editors and such\n\t\tconst uri = EditorResourceAccessor.getCanonicalUri(this._editorGroup.activeEditor, { supportSideBySide: SideBySideEditor.PRIMARY });\n\t\tconst wasHidden = this.isHidden();\n\n\t\tif (!uri || !this._fileService.hasProvider(uri)) {\n\t\t\t// cleanup and return when there is no input or when\n\t\t\t// we cannot handle this input\n\t\t\tthis._ckBreadcrumbsPossible.set(false);\n\t\t\tif (!wasHidden) {\n\t\t\t\tthis.hide();\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t// display uri which can be derived from certain inputs\n\t\tconst fileInfoUri = EditorResourceAccessor.getOriginalUri(this._editorGroup.activeEditor, { supportSideBySide: SideBySideEditor.PRIMARY });\n\n\t\tthis.domNode.classList.toggle('hidden', false);\n\t\tthis._ckBreadcrumbsVisible.set(true);\n\t\tthis._ckBreadcrumbsPossible.set(true);\n\n\t\tconst model = this._instantiationService.createInstance(BreadcrumbsModel,\n\t\t\tfileInfoUri ?? uri,\n\t\t\tthis._editorGroup.activeEditorPane\n\t\t);\n\t\tthis._model.value = model;\n\n\t\tthis.domNode.classList.toggle('backslash-path', this._labelService.getSeparator(uri.scheme, uri.authority) === '\\\\');\n\n\t\tconst updateBreadcrumbs = () => {\n\t\t\tthis.domNode.classList.toggle('relative-path', model.isRelative());\n\t\t\tconst showIcons = this._cfShowIcons.getValue();\n\t\t\tconst options: IBreadcrumbsControlOptions = {\n\t\t\t\t...this._options,\n\t\t\t\tshowFileIcons: this._options.showFileIcons && showIcons,\n\t\t\t\tshowSymbolIcons: this._options.showSymbolIcons && showIcons\n\t\t\t};\n\t\t\tconst items = model.getElements().map(element => element instanceof FileElement ? new FileItem(model, element, options, this._labels) : new OutlineItem(model, element, options));\n\t\t\tif (items.length === 0) {\n\t\t\t\tthis._widget.setEnabled(false);\n\t\t\t\tthis._widget.setItems([new class extends BreadcrumbsItem {\n\t\t\t\t\trender(container: HTMLElement): void {\n\t\t\t\t\t\tcontainer.innerText = localize('empty', \"no elements\");\n\t\t\t\t\t}\n\t\t\t\t\tequals(other: BreadcrumbsItem): boolean {\n\t\t\t\t\t\treturn other === this;\n\t\t\t\t\t}\n\t\t\t\t}]);\n\t\t\t} else {\n\t\t\t\tthis._widget.setEnabled(true);\n\t\t\t\tthis._widget.setItems(items);\n\t\t\t\tthis._widget.reveal(items[items.length - 1]);\n\t\t\t}\n\t\t};\n\t\tconst listener = model.onDidUpdate(updateBreadcrumbs);\n\t\tconst configListener = this._cfShowIcons.onDidChange(updateBreadcrumbs);\n\t\tupdateBreadcrumbs();\n\t\tthis._breadcrumbsDisposables.clear();\n\t\tthis._breadcrumbsDisposables.add(listener);\n\t\tthis._breadcrumbsDisposables.add(toDisposable(() => this._model.clear()));\n\t\tthis._breadcrumbsDisposables.add(configListener);\n\t\tthis._breadcrumbsDisposables.add(toDisposable(() => this._widget.setItems([])));\n\n\t\tconst updateScrollbarSizing = () => {\n\t\t\tconst sizing = this._cfTitleScrollbarSizing.getValue() ?? 'default';\n\t\t\tthis._widget.setHorizontalScrollbarSize(BreadcrumbsControl.SCROLLBAR_SIZES[sizing]);\n\t\t};\n\t\tupdateScrollbarSizing();\n\t\tconst updateScrollbarSizeListener = this._cfTitleScrollbarSizing.onDidChange(updateScrollbarSizing);\n\t\tthis._breadcrumbsDisposables.add(updateScrollbarSizeListener);\n\n\t\t// close picker on hide/update\n\t\tthis._breadcrumbsDisposables.add({\n\t\t\tdispose: () => {\n\t\t\t\tif (this._breadcrumbsPickerShowing) {\n\t\t\t\t\tthis._contextViewService.hideContextView({ source: this });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn wasHidden !== this.isHidden();\n\t}\n\n\tprivate _onFocusEvent(event: IBreadcrumbsItemEvent): void {\n\t\tif (event.item && this._breadcrumbsPickerShowing) {\n\t\t\tthis._breadcrumbsPickerIgnoreOnceItem = undefined;\n\t\t\tthis._widget.setSelection(event.item);\n\t\t}\n\t}\n\n\tprivate _onSelectEvent(event: IBreadcrumbsItemEvent): void {\n\t\tif (!event.item) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.item === this._breadcrumbsPickerIgnoreOnceItem) {\n\t\t\tthis._breadcrumbsPickerIgnoreOnceItem = undefined;\n\t\t\tthis._widget.setFocused(undefined);\n\t\t\tthis._widget.setSelection(undefined);\n\t\t\treturn;\n\t\t}\n\n\t\tconst { element } = event.item as FileItem | OutlineItem;\n\t\tthis._editorGroup.focus();\n\n\t\tconst group = this._getEditorGroup(event.payload);\n\t\tif (group !== undefined) {\n\t\t\t// reveal the item\n\t\t\tthis._widget.setFocused(undefined);\n\t\t\tthis._widget.setSelection(undefined);\n\t\t\tthis._revealInEditor(event, element, group);\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._cfUseQuickPick.getValue()) {\n\t\t\t// using quick pick\n\t\t\tthis._widget.setFocused(undefined);\n\t\t\tthis._widget.setSelection(undefined);\n\t\t\tthis._quickInputService.quickAccess.show(element instanceof OutlineElement2 ? '@' : '');\n\t\t\treturn;\n\t\t}\n\n\t\t// show picker\n\t\tlet picker: BreadcrumbsPicker;\n\t\tlet pickerAnchor: { x: number; y: number };\n\n\t\tinterface IHideData { didPick?: boolean; source?: BreadcrumbsControl }\n\n\t\tthis._contextViewService.showContextView({\n\t\t\trender: (parent: HTMLElement) => {\n\t\t\t\tif (event.item instanceof FileItem) {\n\t\t\t\t\tpicker = this._instantiationService.createInstance(BreadcrumbsFilePicker, parent, event.item.model.resource);\n\t\t\t\t} else if (event.item instanceof OutlineItem) {\n\t\t\t\t\tpicker = this._instantiationService.createInstance(BreadcrumbsOutlinePicker, parent, event.item.model.resource);\n\t\t\t\t}\n\n\t\t\t\tconst selectListener = picker.onWillPickElement(() => this._contextViewService.hideContextView({ source: this, didPick: true }));\n\t\t\t\tconst zoomListener = PixelRatio.onDidChange(() => this._contextViewService.hideContextView({ source: this }));\n\n\t\t\t\tconst focusTracker = dom.trackFocus(parent);\n\t\t\t\tconst blurListener = focusTracker.onDidBlur(() => {\n\t\t\t\t\tthis._breadcrumbsPickerIgnoreOnceItem = this._widget.isDOMFocused() ? event.item : undefined;\n\t\t\t\t\tthis._contextViewService.hideContextView({ source: this });\n\t\t\t\t});\n\n\t\t\t\tthis._breadcrumbsPickerShowing = true;\n\t\t\t\tthis._updateCkBreadcrumbsActive();\n\n\t\t\t\treturn combinedDisposable(\n\t\t\t\t\tpicker,\n\t\t\t\t\tselectListener,\n\t\t\t\t\tzoomListener,\n\t\t\t\t\tfocusTracker,\n\t\t\t\t\tblurListener\n\t\t\t\t);\n\t\t\t},\n\t\t\tgetAnchor: () => {\n\t\t\t\tif (!pickerAnchor) {\n\t\t\t\t\tconst maxInnerWidth = window.innerWidth - 8 /*a little less the full widget*/;\n\t\t\t\t\tlet maxHeight = Math.min(window.innerHeight * 0.7, 300);\n\n\t\t\t\t\tconst pickerWidth = Math.min(maxInnerWidth, Math.max(240, maxInnerWidth / 4.17));\n\t\t\t\t\tconst pickerArrowSize = 8;\n\t\t\t\t\tlet pickerArrowOffset: number;\n\n\t\t\t\t\tconst data = dom.getDomNodePagePosition(event.node.firstChild as HTMLElement);\n\t\t\t\t\tconst y = data.top + data.height + pickerArrowSize;\n\t\t\t\t\tif (y + maxHeight >= window.innerHeight) {\n\t\t\t\t\t\tmaxHeight = window.innerHeight - y - 30 /* room for shadow and status bar*/;\n\t\t\t\t\t}\n\t\t\t\t\tlet x = data.left;\n\t\t\t\t\tif (x + pickerWidth >= maxInnerWidth) {\n\t\t\t\t\t\tx = maxInnerWidth - pickerWidth;\n\t\t\t\t\t}\n\t\t\t\t\tif (event.payload instanceof StandardMouseEvent) {\n\t\t\t\t\t\tconst maxPickerArrowOffset = pickerWidth - 2 * pickerArrowSize;\n\t\t\t\t\t\tpickerArrowOffset = event.payload.posx - x;\n\t\t\t\t\t\tif (pickerArrowOffset > maxPickerArrowOffset) {\n\t\t\t\t\t\t\tx = Math.min(maxInnerWidth - pickerWidth, x + pickerArrowOffset - maxPickerArrowOffset);\n\t\t\t\t\t\t\tpickerArrowOffset = maxPickerArrowOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpickerArrowOffset = (data.left + (data.width * 0.3)) - x;\n\t\t\t\t\t}\n\t\t\t\t\tpicker.show(element, maxHeight, pickerWidth, pickerArrowSize, Math.max(0, pickerArrowOffset));\n\t\t\t\t\tpickerAnchor = { x, y };\n\t\t\t\t}\n\t\t\t\treturn pickerAnchor;\n\t\t\t},\n\t\t\tonHide: (data?: IHideData) => {\n\t\t\t\tif (!data?.didPick) {\n\t\t\t\t\tpicker.restoreViewState();\n\t\t\t\t}\n\t\t\t\tthis._breadcrumbsPickerShowing = false;\n\t\t\t\tthis._updateCkBreadcrumbsActive();\n\t\t\t\tif (data?.source === this) {\n\t\t\t\t\tthis._widget.setFocused(undefined);\n\t\t\t\t\tthis._widget.setSelection(undefined);\n\t\t\t\t}\n\t\t\t\tpicker.dispose();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _updateCkBreadcrumbsActive(): void {\n\t\tconst value = this._widget.isDOMFocused() || this._breadcrumbsPickerShowing;\n\t\tthis._ckBreadcrumbsActive.set(value);\n\t}\n\n\tprivate async _revealInEditor(event: IBreadcrumbsItemEvent, element: FileElement | OutlineElement2, group: SIDE_GROUP_TYPE | ACTIVE_GROUP_TYPE | undefined, pinned: boolean = false): Promise<void> {\n\n\t\tif (element instanceof FileElement) {\n\t\t\tif (element.kind === FileKind.FILE) {\n\t\t\t\tawait this._editorService.openEditor({ resource: element.uri, options: { pinned } }, group);\n\t\t\t} else {\n\t\t\t\t// show next picker\n\t\t\t\tconst items = this._widget.getItems();\n\t\t\t\tconst idx = items.indexOf(event.item);\n\t\t\t\tthis._widget.setFocused(items[idx + 1]);\n\t\t\t\tthis._widget.setSelection(items[idx + 1], BreadcrumbsControl.Payload_Pick);\n\t\t\t}\n\t\t} else {\n\t\t\telement.outline.reveal(element, { pinned }, group === SIDE_GROUP);\n\t\t}\n\t}\n\n\tprivate _getEditorGroup(data: object): SIDE_GROUP_TYPE | ACTIVE_GROUP_TYPE | undefined {\n\t\tif (data === BreadcrumbsControl.Payload_RevealAside) {\n\t\t\treturn SIDE_GROUP;\n\t\t} else if (data === BreadcrumbsControl.Payload_Reveal) {\n\t\t\treturn ACTIVE_GROUP;\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n}\n\nexport class BreadcrumbsControlFactory {\n\n\tprivate readonly _disposables = new DisposableStore();\n\n\tprivate _control: BreadcrumbsControl | undefined;\n\tget control() { return this._control; }\n\n\tprivate readonly _onDidEnablementChange = this._disposables.add(new Emitter<void>());\n\tget onDidEnablementChange() { return this._onDidEnablementChange.event; }\n\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\teditorGroup: IEditorGroupView,\n\t\toptions: IBreadcrumbsControlOptions,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IFileService fileService: IFileService\n\t) {\n\t\tconst config = this._disposables.add(BreadcrumbsConfig.IsEnabled.bindTo(configurationService));\n\t\tthis._disposables.add(config.onDidChange(() => {\n\t\t\tconst value = config.getValue();\n\t\t\tif (!value && this._control) {\n\t\t\t\tthis._control.dispose();\n\t\t\t\tthis._control = undefined;\n\t\t\t\tthis._onDidEnablementChange.fire();\n\t\t\t} else if (value && !this._control) {\n\t\t\t\tthis._control = instantiationService.createInstance(BreadcrumbsControl, container, options, editorGroup);\n\t\t\t\tthis._control.update();\n\t\t\t\tthis._onDidEnablementChange.fire();\n\t\t\t}\n\t\t}));\n\n\t\tif (config.getValue()) {\n\t\t\tthis._control = instantiationService.createInstance(BreadcrumbsControl, container, options, editorGroup);\n\t\t}\n\n\t\tthis._disposables.add(fileService.onDidChangeFileSystemProviderRegistrations(e => {\n\t\t\tif (this._control?.model && this._control.model.resource.scheme !== e.scheme) {\n\t\t\t\t// ignore if the scheme of the breadcrumbs resource is not affected\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this._control?.update()) {\n\t\t\t\tthis._onDidEnablementChange.fire();\n\t\t\t}\n\t\t}));\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t\tthis._control?.dispose();\n\t}\n}\n\n//#region commands\n\n// toggle command\nregisterAction2(class ToggleBreadcrumb extends Action2 {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'breadcrumbs.toggle',\n\t\t\ttitle: {\n\t\t\t\tvalue: localize('cmd.toggle', \"Toggle Breadcrumbs\"),\n\t\t\t\tmnemonicTitle: localize({ key: 'miBreadcrumbs', comment: ['&& denotes a mnemonic'] }, \"Toggle &&Breadcrumbs\"),\n\t\t\t\toriginal: 'Toggle Breadcrumbs',\n\t\t\t},\n\t\t\tcategory: Categories.View,\n\t\t\ttoggled: {\n\t\t\t\tcondition: ContextKeyExpr.equals('config.breadcrumbs.enabled', true),\n\t\t\t\ttitle: localize('cmd.toggle2', \"Breadcrumbs\"),\n\t\t\t\tmnemonicTitle: localize({ key: 'miBreadcrumbs2', comment: ['&& denotes a mnemonic'] }, \"&&Breadcrumbs\")\n\t\t\t},\n\t\t\tmenu: [\n\t\t\t\t{ id: MenuId.CommandPalette },\n\t\t\t\t{ id: MenuId.MenubarAppearanceMenu, group: '4_editor', order: 2 },\n\t\t\t\t{ id: MenuId.NotebookToolbar, group: 'notebookLayout', order: 2 },\n\t\t\t\t{ id: MenuId.StickyScrollContext }\n\t\t\t]\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor): void {\n\t\tconst config = accessor.get(IConfigurationService);\n\t\tconst value = BreadcrumbsConfig.IsEnabled.bindTo(config).getValue();\n\t\tBreadcrumbsConfig.IsEnabled.bindTo(config).updateValue(!value);\n\t}\n\n});\n\n// focus/focus-and-select\nfunction focusAndSelectHandler(accessor: ServicesAccessor, select: boolean): void {\n\t// find widget and focus/select\n\tconst groups = accessor.get(IEditorGroupsService);\n\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\tif (widget) {\n\t\tconst item = tail(widget.getItems());\n\t\twidget.setFocused(item);\n\t\tif (select) {\n\t\t\twidget.setSelection(item, BreadcrumbsControl.Payload_Pick);\n\t\t}\n\t}\n}\nregisterAction2(class FocusAndSelectBreadcrumbs extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'breadcrumbs.focusAndSelect',\n\t\t\ttitle: {\n\t\t\t\tvalue: localize('cmd.focusAndSelect', \"Focus and Select Breadcrumbs\"),\n\t\t\t\toriginal: 'Focus and Select Breadcrumbs'\n\t\t\t},\n\t\t\tprecondition: BreadcrumbsControl.CK_BreadcrumbsVisible,\n\t\t\tkeybinding: {\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.Period,\n\t\t\t\twhen: BreadcrumbsControl.CK_BreadcrumbsPossible,\n\t\t\t},\n\t\t\tf1: true\n\t\t});\n\t}\n\trun(accessor: ServicesAccessor, ...args: any[]): void {\n\t\tfocusAndSelectHandler(accessor, true);\n\t}\n});\n\nregisterAction2(class FocusBreadcrumbs extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'breadcrumbs.focus',\n\t\t\ttitle: {\n\t\t\t\tvalue: localize('cmd.focus', \"Focus Breadcrumbs\"),\n\t\t\t\toriginal: 'Focus Breadcrumbs'\n\t\t\t},\n\t\t\tprecondition: BreadcrumbsControl.CK_BreadcrumbsVisible,\n\t\t\tkeybinding: {\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.Semicolon,\n\t\t\t\twhen: BreadcrumbsControl.CK_BreadcrumbsPossible,\n\t\t\t},\n\t\t\tf1: true\n\t\t});\n\t}\n\trun(accessor: ServicesAccessor, ...args: any[]): void {\n\t\tfocusAndSelectHandler(accessor, false);\n\t}\n});\n\n// this commands is only enabled when breadcrumbs are\n// disabled which it then enables and focuses\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.toggleToOn',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.Period,\n\twhen: ContextKeyExpr.not('config.breadcrumbs.enabled'),\n\thandler: async accessor => {\n\t\tconst instant = accessor.get(IInstantiationService);\n\t\tconst config = accessor.get(IConfigurationService);\n\t\t// check if enabled and iff not enable\n\t\tconst isEnabled = BreadcrumbsConfig.IsEnabled.bindTo(config);\n\t\tif (!isEnabled.getValue()) {\n\t\t\tawait isEnabled.updateValue(true);\n\t\t\tawait timeout(50); // hacky - the widget might not be ready yet...\n\t\t}\n\t\treturn instant.invokeFunction(focusAndSelectHandler, true);\n\t}\n});\n\n// navigation\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.focusNext',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyCode.RightArrow,\n\tsecondary: [KeyMod.CtrlCmd | KeyCode.RightArrow],\n\tmac: {\n\t\tprimary: KeyCode.RightArrow,\n\t\tsecondary: [KeyMod.Alt | KeyCode.RightArrow],\n\t},\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.focusNext();\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.focusPrevious',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyCode.LeftArrow,\n\tsecondary: [KeyMod.CtrlCmd | KeyCode.LeftArrow],\n\tmac: {\n\t\tprimary: KeyCode.LeftArrow,\n\t\tsecondary: [KeyMod.Alt | KeyCode.LeftArrow],\n\t},\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.focusPrev();\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.focusNextWithPicker',\n\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\tprimary: KeyMod.CtrlCmd | KeyCode.RightArrow,\n\tmac: {\n\t\tprimary: KeyMod.Alt | KeyCode.RightArrow,\n\t},\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive, WorkbenchListFocusContextKey),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.focusNext();\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.focusPreviousWithPicker',\n\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\tprimary: KeyMod.CtrlCmd | KeyCode.LeftArrow,\n\tmac: {\n\t\tprimary: KeyMod.Alt | KeyCode.LeftArrow,\n\t},\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive, WorkbenchListFocusContextKey),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.focusPrev();\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.selectFocused',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyCode.Enter,\n\tsecondary: [KeyCode.DownArrow],\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.setSelection(widget.getFocused(), BreadcrumbsControl.Payload_Pick);\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.revealFocused',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyCode.Space,\n\tsecondary: [KeyMod.CtrlCmd | KeyCode.Enter],\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.setSelection(widget.getFocused(), BreadcrumbsControl.Payload_Reveal);\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.selectEditor',\n\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\tprimary: KeyCode.Escape,\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.setFocused(undefined);\n\t\twidget.setSelection(undefined);\n\t\tgroups.activeGroup.activeEditorPane?.focus();\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.revealFocusedFromTreeAside',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyMod.CtrlCmd | KeyCode.Enter,\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive, WorkbenchListFocusContextKey),\n\thandler(accessor) {\n\t\tconst editors = accessor.get(IEditorService);\n\t\tconst lists = accessor.get(IListService);\n\n\t\tconst tree = lists.lastFocusedList;\n\t\tif (!(tree instanceof WorkbenchDataTree) && !(tree instanceof WorkbenchAsyncDataTree)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst element = <IFileStat | unknown>tree.getFocus()[0];\n\n\t\tif (URI.isUri((<IFileStat>element)?.resource)) {\n\t\t\t// IFileStat: open file in editor\n\t\t\treturn editors.openEditor({\n\t\t\t\tresource: (<IFileStat>element).resource,\n\t\t\t\toptions: { pinned: true }\n\t\t\t}, SIDE_GROUP);\n\t\t}\n\n\t\t// IOutline: check if this the outline and iff so reveal element\n\t\tconst input = tree.getInput();\n\t\tif (input && typeof (<IOutline<any>>input).outlineKind === 'string') {\n\t\t\treturn (<IOutline<any>>input).reveal(element, {\n\t\t\t\tpinned: true,\n\t\t\t\tpreserveFocus: false\n\t\t\t}, true);\n\t\t}\n\t}\n});\n//#endregion\n"]}