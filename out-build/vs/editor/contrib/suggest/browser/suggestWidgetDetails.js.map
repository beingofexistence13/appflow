{"version":3,"sources":["vs/editor/contrib/suggest/browser/suggestWidgetDetails.ts"],"names":[],"mappings":"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","file":"suggestWidgetDetails.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from 'vs/base/browser/dom';\nimport { DomScrollableElement } from 'vs/base/browser/ui/scrollbar/scrollableElement';\nimport { Codicon } from 'vs/base/common/codicons';\nimport { ThemeIcon } from 'vs/base/common/themables';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { MarkdownString } from 'vs/base/common/htmlContent';\nimport { DisposableStore } from 'vs/base/common/lifecycle';\nimport { MarkdownRenderer } from 'vs/editor/contrib/markdownRenderer/browser/markdownRenderer';\nimport { ICodeEditor, IOverlayWidget } from 'vs/editor/browser/editorBrowser';\nimport { EditorOption } from 'vs/editor/common/config/editorOptions';\nimport { ResizableHTMLElement } from 'vs/base/browser/ui/resizable/resizable';\nimport * as nls from 'vs/nls';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { CompletionItem } from './suggest';\n\nexport function canExpandCompletionItem(item: CompletionItem | undefined): boolean {\n\treturn !!item && Boolean(item.completion.documentation || item.completion.detail && item.completion.detail !== item.completion.label);\n}\n\nexport class SuggestDetailsWidget {\n\n\treadonly domNode: HTMLDivElement;\n\n\tprivate readonly _onDidClose = new Emitter<void>();\n\treadonly onDidClose: Event<void> = this._onDidClose.event;\n\n\tprivate readonly _onDidChangeContents = new Emitter<this>();\n\treadonly onDidChangeContents: Event<this> = this._onDidChangeContents.event;\n\n\tprivate readonly _close: HTMLElement;\n\tprivate readonly _scrollbar: DomScrollableElement;\n\tprivate readonly _body: HTMLElement;\n\tprivate readonly _header: HTMLElement;\n\tprivate readonly _type: HTMLElement;\n\tprivate readonly _docs: HTMLElement;\n\tprivate readonly _disposables = new DisposableStore();\n\n\tprivate readonly _markdownRenderer: MarkdownRenderer;\n\tprivate readonly _renderDisposeable = new DisposableStore();\n\tprivate _borderWidth: number = 1;\n\tprivate _size = new dom.Dimension(330, 0);\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IInstantiationService instaService: IInstantiationService,\n\t) {\n\t\tthis.domNode = dom.$('.suggest-details');\n\t\tthis.domNode.classList.add('no-docs');\n\n\t\tthis._markdownRenderer = instaService.createInstance(MarkdownRenderer, { editor: _editor });\n\n\t\tthis._body = dom.$('.body');\n\n\t\tthis._scrollbar = new DomScrollableElement(this._body, {\n\t\t\talwaysConsumeMouseWheel: true,\n\t\t});\n\t\tdom.append(this.domNode, this._scrollbar.getDomNode());\n\t\tthis._disposables.add(this._scrollbar);\n\n\t\tthis._header = dom.append(this._body, dom.$('.header'));\n\t\tthis._close = dom.append(this._header, dom.$('span' + ThemeIcon.asCSSSelector(Codicon.close)));\n\t\tthis._close.title = nls.localize('details.close', \"Close\");\n\t\tthis._type = dom.append(this._header, dom.$('p.type'));\n\n\t\tthis._docs = dom.append(this._body, dom.$('p.docs'));\n\n\t\tthis._configureFont();\n\n\t\tthis._disposables.add(this._editor.onDidChangeConfiguration(e => {\n\t\t\tif (e.hasChanged(EditorOption.fontInfo)) {\n\t\t\t\tthis._configureFont();\n\t\t\t}\n\t\t}));\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t\tthis._renderDisposeable.dispose();\n\t}\n\n\tprivate _configureFont(): void {\n\t\tconst options = this._editor.getOptions();\n\t\tconst fontInfo = options.get(EditorOption.fontInfo);\n\t\tconst fontFamily = fontInfo.getMassagedFontFamily();\n\t\tconst fontSize = options.get(EditorOption.suggestFontSize) || fontInfo.fontSize;\n\t\tconst lineHeight = options.get(EditorOption.suggestLineHeight) || fontInfo.lineHeight;\n\t\tconst fontWeight = fontInfo.fontWeight;\n\t\tconst fontSizePx = `${fontSize}px`;\n\t\tconst lineHeightPx = `${lineHeight}px`;\n\n\t\tthis.domNode.style.fontSize = fontSizePx;\n\t\tthis.domNode.style.lineHeight = `${lineHeight / fontSize}`;\n\t\tthis.domNode.style.fontWeight = fontWeight;\n\t\tthis.domNode.style.fontFeatureSettings = fontInfo.fontFeatureSettings;\n\t\tthis._type.style.fontFamily = fontFamily;\n\t\tthis._close.style.height = lineHeightPx;\n\t\tthis._close.style.width = lineHeightPx;\n\t}\n\n\tgetLayoutInfo() {\n\t\tconst lineHeight = this._editor.getOption(EditorOption.suggestLineHeight) || this._editor.getOption(EditorOption.fontInfo).lineHeight;\n\t\tconst borderWidth = this._borderWidth;\n\t\tconst borderHeight = borderWidth * 2;\n\t\treturn {\n\t\t\tlineHeight,\n\t\t\tborderWidth,\n\t\t\tborderHeight,\n\t\t\tverticalPadding: 22,\n\t\t\thorizontalPadding: 14\n\t\t};\n\t}\n\n\n\trenderLoading(): void {\n\t\tthis._type.textContent = nls.localize('loading', \"Loading...\");\n\t\tthis._docs.textContent = '';\n\t\tthis.domNode.classList.remove('no-docs', 'no-type');\n\t\tthis.layout(this.size.width, this.getLayoutInfo().lineHeight * 2);\n\t\tthis._onDidChangeContents.fire(this);\n\t}\n\n\trenderItem(item: CompletionItem, explainMode: boolean): void {\n\t\tthis._renderDisposeable.clear();\n\n\t\tlet { detail, documentation } = item.completion;\n\n\t\tif (explainMode) {\n\t\t\tlet md = '';\n\t\t\tmd += `score: ${item.score[0]}\\n`;\n\t\t\tmd += `prefix: ${item.word ?? '(no prefix)'}\\n`;\n\t\t\tmd += `word: ${item.completion.filterText ? item.completion.filterText + ' (filterText)' : item.textLabel}\\n`;\n\t\t\tmd += `distance: ${item.distance} (localityBonus-setting)\\n`;\n\t\t\tmd += `index: ${item.idx}, based on ${item.completion.sortText && `sortText: \"${item.completion.sortText}\"` || 'label'}\\n`;\n\t\t\tmd += `commit_chars: ${item.completion.commitCharacters?.join('')}\\n`;\n\t\t\tdocumentation = new MarkdownString().appendCodeblock('empty', md);\n\t\t\tdetail = `Provider: ${item.provider._debugDisplayName}`;\n\t\t}\n\n\t\tif (!explainMode && !canExpandCompletionItem(item)) {\n\t\t\tthis.clearContents();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.domNode.classList.remove('no-docs', 'no-type');\n\n\t\t// --- details\n\n\t\tif (detail) {\n\t\t\tconst cappedDetail = detail.length > 100000 ? `${detail.substr(0, 100000)}â€¦` : detail;\n\t\t\tthis._type.textContent = cappedDetail;\n\t\t\tthis._type.title = cappedDetail;\n\t\t\tdom.show(this._type);\n\t\t\tthis._type.classList.toggle('auto-wrap', !/\\r?\\n^\\s+/gmi.test(cappedDetail));\n\t\t} else {\n\t\t\tdom.clearNode(this._type);\n\t\t\tthis._type.title = '';\n\t\t\tdom.hide(this._type);\n\t\t\tthis.domNode.classList.add('no-type');\n\t\t}\n\n\t\t// --- documentation\n\t\tdom.clearNode(this._docs);\n\t\tif (typeof documentation === 'string') {\n\t\t\tthis._docs.classList.remove('markdown-docs');\n\t\t\tthis._docs.textContent = documentation;\n\n\t\t} else if (documentation) {\n\t\t\tthis._docs.classList.add('markdown-docs');\n\t\t\tdom.clearNode(this._docs);\n\t\t\tconst renderedContents = this._markdownRenderer.render(documentation);\n\t\t\tthis._docs.appendChild(renderedContents.element);\n\t\t\tthis._renderDisposeable.add(renderedContents);\n\t\t\tthis._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(() => {\n\t\t\t\tthis.layout(this._size.width, this._type.clientHeight + this._docs.clientHeight);\n\t\t\t\tthis._onDidChangeContents.fire(this);\n\t\t\t}));\n\t\t}\n\n\t\tthis.domNode.style.userSelect = 'text';\n\t\tthis.domNode.tabIndex = -1;\n\n\t\tthis._close.onmousedown = e => {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t};\n\t\tthis._close.onclick = e => {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tthis._onDidClose.fire();\n\t\t};\n\n\t\tthis._body.scrollTop = 0;\n\n\t\tthis.layout(this._size.width, this._type.clientHeight + this._docs.clientHeight);\n\t\tthis._onDidChangeContents.fire(this);\n\t}\n\n\tclearContents() {\n\t\tthis.domNode.classList.add('no-docs');\n\t\tthis._type.textContent = '';\n\t\tthis._docs.textContent = '';\n\t}\n\n\tget size() {\n\t\treturn this._size;\n\t}\n\n\tlayout(width: number, height: number): void {\n\t\tconst newSize = new dom.Dimension(width, height);\n\t\tif (!dom.Dimension.equals(newSize, this._size)) {\n\t\t\tthis._size = newSize;\n\t\t\tdom.size(this.domNode, width, height);\n\t\t}\n\t\tthis._scrollbar.scanDomNode();\n\t}\n\n\tscrollDown(much = 8): void {\n\t\tthis._body.scrollTop += much;\n\t}\n\n\tscrollUp(much = 8): void {\n\t\tthis._body.scrollTop -= much;\n\t}\n\n\tscrollTop(): void {\n\t\tthis._body.scrollTop = 0;\n\t}\n\n\tscrollBottom(): void {\n\t\tthis._body.scrollTop = this._body.scrollHeight;\n\t}\n\n\tpageDown(): void {\n\t\tthis.scrollDown(80);\n\t}\n\n\tpageUp(): void {\n\t\tthis.scrollUp(80);\n\t}\n\n\tset borderWidth(width: number) {\n\t\tthis._borderWidth = width;\n\t}\n\n\tget borderWidth() {\n\t\treturn this._borderWidth;\n\t}\n}\n\ninterface TopLeftPosition {\n\ttop: number;\n\tleft: number;\n}\n\nexport class SuggestDetailsOverlay implements IOverlayWidget {\n\n\tprivate readonly _disposables = new DisposableStore();\n\tprivate readonly _resizable: ResizableHTMLElement;\n\n\tprivate _added: boolean = false;\n\tprivate _anchorBox?: dom.IDomNodePagePosition;\n\tprivate _preferAlignAtTop: boolean = true;\n\tprivate _userSize?: dom.Dimension;\n\tprivate _topLeft?: TopLeftPosition;\n\n\tconstructor(\n\t\treadonly widget: SuggestDetailsWidget,\n\t\tprivate readonly _editor: ICodeEditor\n\t) {\n\n\t\tthis._resizable = new ResizableHTMLElement();\n\t\tthis._resizable.domNode.classList.add('suggest-details-container');\n\t\tthis._resizable.domNode.appendChild(widget.domNode);\n\t\tthis._resizable.enableSashes(false, true, true, false);\n\n\t\tlet topLeftNow: TopLeftPosition | undefined;\n\t\tlet sizeNow: dom.Dimension | undefined;\n\t\tlet deltaTop: number = 0;\n\t\tlet deltaLeft: number = 0;\n\t\tthis._disposables.add(this._resizable.onDidWillResize(() => {\n\t\t\ttopLeftNow = this._topLeft;\n\t\t\tsizeNow = this._resizable.size;\n\t\t}));\n\n\t\tthis._disposables.add(this._resizable.onDidResize(e => {\n\t\t\tif (topLeftNow && sizeNow) {\n\t\t\t\tthis.widget.layout(e.dimension.width, e.dimension.height);\n\n\t\t\t\tlet updateTopLeft = false;\n\t\t\t\tif (e.west) {\n\t\t\t\t\tdeltaLeft = sizeNow.width - e.dimension.width;\n\t\t\t\t\tupdateTopLeft = true;\n\t\t\t\t}\n\t\t\t\tif (e.north) {\n\t\t\t\t\tdeltaTop = sizeNow.height - e.dimension.height;\n\t\t\t\t\tupdateTopLeft = true;\n\t\t\t\t}\n\t\t\t\tif (updateTopLeft) {\n\t\t\t\t\tthis._applyTopLeft({\n\t\t\t\t\t\ttop: topLeftNow.top + deltaTop,\n\t\t\t\t\t\tleft: topLeftNow.left + deltaLeft,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (e.done) {\n\t\t\t\ttopLeftNow = undefined;\n\t\t\t\tsizeNow = undefined;\n\t\t\t\tdeltaTop = 0;\n\t\t\t\tdeltaLeft = 0;\n\t\t\t\tthis._userSize = e.dimension;\n\t\t\t}\n\t\t}));\n\n\t\tthis._disposables.add(this.widget.onDidChangeContents(() => {\n\t\t\tif (this._anchorBox) {\n\t\t\t\tthis._placeAtAnchor(this._anchorBox, this._userSize ?? this.widget.size, this._preferAlignAtTop);\n\t\t\t}\n\t\t}));\n\t}\n\n\tdispose(): void {\n\t\tthis._resizable.dispose();\n\t\tthis._disposables.dispose();\n\t\tthis.hide();\n\t}\n\n\tgetId(): string {\n\t\treturn 'suggest.details';\n\t}\n\n\tgetDomNode(): HTMLElement {\n\t\treturn this._resizable.domNode;\n\t}\n\n\tgetPosition(): null {\n\t\treturn null;\n\t}\n\n\tshow(): void {\n\t\tif (!this._added) {\n\t\t\tthis._editor.addOverlayWidget(this);\n\t\t\tthis.getDomNode().style.position = 'fixed';\n\t\t\tthis._added = true;\n\t\t}\n\t}\n\n\thide(sessionEnded: boolean = false): void {\n\t\tthis._resizable.clearSashHoverState();\n\n\t\tif (this._added) {\n\t\t\tthis._editor.removeOverlayWidget(this);\n\t\t\tthis._added = false;\n\t\t\tthis._anchorBox = undefined;\n\t\t\tthis._topLeft = undefined;\n\t\t}\n\t\tif (sessionEnded) {\n\t\t\tthis._userSize = undefined;\n\t\t\tthis.widget.clearContents();\n\t\t}\n\t}\n\n\tplaceAtAnchor(anchor: HTMLElement, preferAlignAtTop: boolean) {\n\t\tconst anchorBox = anchor.getBoundingClientRect();\n\t\tthis._anchorBox = anchorBox;\n\t\tthis._preferAlignAtTop = preferAlignAtTop;\n\t\tthis._placeAtAnchor(this._anchorBox, this._userSize ?? this.widget.size, preferAlignAtTop);\n\t}\n\n\t_placeAtAnchor(anchorBox: dom.IDomNodePagePosition, size: dom.Dimension, preferAlignAtTop: boolean) {\n\t\tconst bodyBox = dom.getClientArea(this.getDomNode().ownerDocument.body);\n\n\t\tconst info = this.widget.getLayoutInfo();\n\n\t\tconst defaultMinSize = new dom.Dimension(220, 2 * info.lineHeight);\n\t\tconst defaultTop = anchorBox.top;\n\n\t\ttype Placement = { top: number; left: number; fit: number; maxSizeTop: dom.Dimension; maxSizeBottom: dom.Dimension; minSize: dom.Dimension };\n\n\t\t// EAST\n\t\tconst eastPlacement: Placement = (function () {\n\t\t\tconst width = bodyBox.width - (anchorBox.left + anchorBox.width + info.borderWidth + info.horizontalPadding);\n\t\t\tconst left = -info.borderWidth + anchorBox.left + anchorBox.width;\n\t\t\tconst maxSizeTop = new dom.Dimension(width, bodyBox.height - anchorBox.top - info.borderHeight - info.verticalPadding);\n\t\t\tconst maxSizeBottom = maxSizeTop.with(undefined, anchorBox.top + anchorBox.height - info.borderHeight - info.verticalPadding);\n\t\t\treturn { top: defaultTop, left, fit: width - size.width, maxSizeTop, maxSizeBottom, minSize: defaultMinSize.with(Math.min(width, defaultMinSize.width)) };\n\t\t})();\n\n\t\t// WEST\n\t\tconst westPlacement: Placement = (function () {\n\t\t\tconst width = anchorBox.left - info.borderWidth - info.horizontalPadding;\n\t\t\tconst left = Math.max(info.horizontalPadding, anchorBox.left - size.width - info.borderWidth);\n\t\t\tconst maxSizeTop = new dom.Dimension(width, bodyBox.height - anchorBox.top - info.borderHeight - info.verticalPadding);\n\t\t\tconst maxSizeBottom = maxSizeTop.with(undefined, anchorBox.top + anchorBox.height - info.borderHeight - info.verticalPadding);\n\t\t\treturn { top: defaultTop, left, fit: width - size.width, maxSizeTop, maxSizeBottom, minSize: defaultMinSize.with(Math.min(width, defaultMinSize.width)) };\n\t\t})();\n\n\t\t// SOUTH\n\t\tconst southPacement: Placement = (function () {\n\t\t\tconst left = anchorBox.left;\n\t\t\tconst top = -info.borderWidth + anchorBox.top + anchorBox.height;\n\t\t\tconst maxSizeBottom = new dom.Dimension(anchorBox.width - info.borderHeight, bodyBox.height - anchorBox.top - anchorBox.height - info.verticalPadding);\n\t\t\treturn { top, left, fit: maxSizeBottom.height - size.height, maxSizeBottom, maxSizeTop: maxSizeBottom, minSize: defaultMinSize.with(maxSizeBottom.width) };\n\t\t})();\n\n\t\t// take first placement that fits or the first with \"least bad\" fit\n\t\tconst placements = [eastPlacement, westPlacement, southPacement];\n\t\tconst placement = placements.find(p => p.fit >= 0) ?? placements.sort((a, b) => b.fit - a.fit)[0];\n\n\t\t// top/bottom placement\n\t\tconst bottom = anchorBox.top + anchorBox.height - info.borderHeight;\n\t\tlet alignAtTop: boolean;\n\t\tlet height = size.height;\n\t\tconst maxHeight = Math.max(placement.maxSizeTop.height, placement.maxSizeBottom.height);\n\t\tif (height > maxHeight) {\n\t\t\theight = maxHeight;\n\t\t}\n\t\tlet maxSize: dom.Dimension;\n\t\tif (preferAlignAtTop) {\n\t\t\tif (height <= placement.maxSizeTop.height) {\n\t\t\t\talignAtTop = true;\n\t\t\t\tmaxSize = placement.maxSizeTop;\n\t\t\t} else {\n\t\t\t\talignAtTop = false;\n\t\t\t\tmaxSize = placement.maxSizeBottom;\n\t\t\t}\n\t\t} else {\n\t\t\tif (height <= placement.maxSizeBottom.height) {\n\t\t\t\talignAtTop = false;\n\t\t\t\tmaxSize = placement.maxSizeBottom;\n\t\t\t} else {\n\t\t\t\talignAtTop = true;\n\t\t\t\tmaxSize = placement.maxSizeTop;\n\t\t\t}\n\t\t}\n\n\t\tthis._applyTopLeft({ left: placement.left, top: alignAtTop ? placement.top : bottom - height });\n\t\tthis.getDomNode().style.position = 'fixed';\n\n\t\tthis._resizable.enableSashes(!alignAtTop, placement === eastPlacement, alignAtTop, placement !== eastPlacement);\n\n\t\tthis._resizable.minSize = placement.minSize;\n\t\tthis._resizable.maxSize = maxSize;\n\t\tthis._resizable.layout(height, Math.min(maxSize.width, size.width));\n\t\tthis.widget.layout(this._resizable.size.width, this._resizable.size.height);\n\t}\n\n\tprivate _applyTopLeft(topLeft: TopLeftPosition): void {\n\t\tthis._topLeft = topLeft;\n\t\tthis.getDomNode().style.left = `${this._topLeft.left}px`;\n\t\tthis.getDomNode().style.top = `${this._topLeft.top}px`;\n\t}\n}\n"]}